<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/backend/tools/Docker.html"><meta property="og:site_name" content="Eddie-Tech-Blog"><meta property="og:title" content="Docker"><meta property="og:description" content="Docker: Accelerated, Containerized Application Development (https://www.docker.com/) GitHub - docker/docker-ce: This repository is deprecated and will be archived (Docker CE its..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Docker","image":[""],"dateModified":null,"author":[]}</script><title>Docker | Eddie-Tech-Blog</title><meta name="description" content="Docker: Accelerated, Containerized Application Development (https://www.docker.com/) GitHub - docker/docker-ce: This repository is deprecated and will be archived (Docker CE its...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-71862533.css" as="style"><link rel="stylesheet" href="/assets/style-71862533.css">
    <link rel="modulepreload" href="/assets/app-7117916c.js"><link rel="modulepreload" href="/assets/framework-e28ace55.js"><link rel="modulepreload" href="/assets/Docker.html-87517b05.js"><link rel="modulepreload" href="/assets/Docker.html-83ca7c15.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="Eddie-Tech-Blog"><!----><span class="site-name hide-in-pad">Eddie-Tech-Blog</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="Home"><span class="font-icon icon iconfont icon-home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/eddie/" class="nav-link" aria-label="Expoler"><span class="font-icon icon iconfont icon-discover" style=""></span>Expoler<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Backend-Dev"><span class="title"><span class="font-icon icon iconfont icon-edit" style=""></span>Backend-Dev</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/java/jvm.html" class="nav-link" aria-label="JVM"><span class="font-icon icon iconfont icon-edit" style=""></span>JVM<!----></a></li><li class="dropdown-subitem"><a href="/backend/java/java8.html" class="nav-link" aria-label="Java8"><span class="font-icon icon iconfont icon-edit" style=""></span>Java8<!----></a></li><li class="dropdown-subitem"><a href="/backend/java/java_concurrency_programming.html" class="nav-link" aria-label="Java Concurrency Programming"><span class="font-icon icon iconfont icon-edit" style=""></span>Java Concurrency Programming<!----></a></li><li class="dropdown-subitem"><a href="/backend/java/Java.html" class="nav-link" aria-label="Java"><span class="font-icon icon iconfont icon-edit" style=""></span>Java<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Database</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/database/mysql.html" class="nav-link" aria-label="MySQL  Basic --- advanced"><span class="font-icon icon iconfont icon-edit" style=""></span>MySQL  Basic --- advanced<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Dev-FrameWork</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/dev_framework/SpringBoot.html" class="nav-link" aria-label="Spring Boot"><span class="font-icon icon iconfont icon-edit" style=""></span>Spring Boot<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/SpringMVC.html" class="nav-link" aria-label="SpringMVC"><span class="font-icon icon iconfont icon-edit" style=""></span>SpringMVC<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/Spring5.html" class="nav-link" aria-label="Spring5"><span class="font-icon icon iconfont icon-edit" style=""></span>Spring5<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/Mybatis.html" class="nav-link" aria-label="Mybatis"><span class="font-icon icon iconfont icon-edit" style=""></span>Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/MybatisPlus.html" class="nav-link" aria-label="MybatisPlus"><span class="font-icon icon iconfont icon-edit" style=""></span>MybatisPlus<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/SpringCloud.html" class="nav-link" aria-label="SpringCloud &amp; ~Aibaba"><span class="font-icon icon iconfont icon-edit" style=""></span>SpringCloud &amp; ~Aibaba<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Middleware</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/middleware/MQ.html" class="nav-link" aria-label="MQ"><span class="font-icon icon iconfont icon-edit" style=""></span>MQ<!----></a></li><li class="dropdown-subitem"><a href="/backend/middleware/Redis.html" class="nav-link" aria-label="Redis"><span class="font-icon icon iconfont icon-edit" style=""></span>Redis<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Skills</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/skills/DataStructureAlgorithm.html" class="nav-link" aria-label="DataStructureAlgorithm"><span class="font-icon icon iconfont icon-edit" style=""></span>DataStructureAlgorithm<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/ComputerNetwork.html" class="nav-link" aria-label="ComputerNetwork"><span class="font-icon icon iconfont icon-edit" style=""></span>ComputerNetwork<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/OperatingSystem.html" class="nav-link" aria-label="OperatingSystem"><span class="font-icon icon iconfont icon-edit" style=""></span>OperatingSystem<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Methodology.html" class="nav-link" aria-label="Methodology"><span class="font-icon icon iconfont icon-edit" style=""></span>Methodology<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/IO.html" class="nav-link" aria-label="IO"><span class="font-icon icon iconfont icon-edit" style=""></span>IO<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Netty.html" class="nav-link" aria-label="Netty"><span class="font-icon icon iconfont icon-edit" style=""></span>Netty<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Linux.html" class="nav-link" aria-label="Linux"><span class="font-icon icon iconfont icon-edit" style=""></span>Linux<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Dubbo.html" class="nav-link" aria-label="Dubbo"><span class="font-icon icon iconfont icon-edit" style=""></span>Dubbo<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Zookeeper.html" class="nav-link" aria-label="Zookeeper"><span class="font-icon icon iconfont icon-edit" style=""></span>Zookeeper<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Tools</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-current="page" href="/backend/tools/Docker.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Docker"><span class="font-icon icon iconfont icon-edit" style=""></span>Docker<!----></a></li><li class="dropdown-subitem"><a href="/backend/tools/Git.html" class="nav-link" aria-label="Git"><span class="font-icon icon iconfont icon-edit" style=""></span>Git<!----></a></li><li class="dropdown-subitem"><a href="/backend/tools/Maven.html" class="nav-link" aria-label="Maven"><span class="font-icon icon iconfont icon-edit" style=""></span>Maven<!----></a></li><li class="dropdown-subitem"><a href="/backend/tools/Nginx.html" class="nav-link" aria-label="Nginx"><span class="font-icon icon iconfont icon-edit" style=""></span>Nginx<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/article-papper/" class="nav-link" aria-label="Article &amp; Papper"><span class="font-icon icon iconfont icon-note" style=""></span>Article &amp; Papper<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/EddieZturbo/Eddie-Tech-Blog.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="Home"><span class="font-icon icon iconfont icon-home" style=""></span>Home<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-discover" style=""></span><a href="/eddie/" class="title">Eddie</a><!----></p><ul class="sidebar-links"></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><span class="font-icon icon iconfont icon-note" style=""></span><span class="title">Backend-Dev</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Database</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Dev Framework</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Middleware</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Skills</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">Tools</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/backend/tools/Docker.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Docker"><!---->Docker<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#docker-æ¶æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker æ¶æ„"><!---->Docker æ¶æ„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#linux-cent-os-7-install" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Linux Cent OS 7 Install"><!---->Linux Cent OS 7 Install<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#docker-é•œåƒåŠ é€Ÿ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker é•œåƒåŠ é€Ÿ"><!---->Docker é•œåƒåŠ é€Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#dockerå¸¸ç”¨å‘½ä»¤â˜…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Dockerå¸¸ç”¨å‘½ä»¤â˜…"><!---->Dockerå¸¸ç”¨å‘½ä»¤â˜…<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤"><!---->å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#é•œåƒå‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é•œåƒå‘½ä»¤"><!---->é•œåƒå‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#å®¹å™¨å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®¹å™¨å‘½ä»¤"><!---->å®¹å™¨å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#dockeré•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Dockeré•œåƒ"><!---->Dockeré•œåƒ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#åˆ†å±‚" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ†å±‚"><!---->åˆ†å±‚<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#dockeré•œåƒåŠ è½½åŸç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Dockeré•œåƒåŠ è½½åŸç†"><!---->Dockeré•œåƒåŠ è½½åŸç†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#æœ¬åœ°é•œåƒå‘å¸ƒåˆ°aliyun" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æœ¬åœ°é•œåƒå‘å¸ƒåˆ°aliyun"><!---->æœ¬åœ°é•œåƒå‘å¸ƒåˆ°aliyun<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#ç§æœä»“åº“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç§æœä»“åº“"><!---->ç§æœä»“åº“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#å®¹å™¨å·â˜…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®¹å™¨å·â˜…"><!---->å®¹å™¨å·â˜…<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ·»åŠ æ˜ å°„å®¹å™¨å·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ·»åŠ æ˜ å°„å®¹å™¨å·"><!---->å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ·»åŠ æ˜ å°„å®¹å™¨å·<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#è¯»å†™è§„åˆ™rw-ro" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¯»å†™è§„åˆ™rw/ro"><!---->è¯»å†™è§„åˆ™rw/ro<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#å®¹å™¨å·çš„ç»§æ‰¿å’Œå…±äº«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®¹å™¨å·çš„ç»§æ‰¿å’Œå…±äº«"><!---->å®¹å™¨å·çš„ç»§æ‰¿å’Œå…±äº«<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#dockerå®¹å™¨ä¸‹çš„å¤æ‚å®‰è£…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Dockerå®¹å™¨ä¸‹çš„å¤æ‚å®‰è£…"><!---->Dockerå®¹å™¨ä¸‹çš„å¤æ‚å®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#dockerfileâ˜…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DockerFileâ˜…"><!---->DockerFileâ˜…<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#dockerfileæŒ‡ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DockerfileæŒ‡ä»¤"><!---->DockerfileæŒ‡ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#ä½¿ç”¨-dockerfile-å®šåˆ¶centosé•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨ Dockerfile å®šåˆ¶Centosé•œåƒ"><!---->ä½¿ç”¨ Dockerfile å®šåˆ¶Centosé•œåƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#å°†å¾®æœåŠ¡æ„å»ºæˆé•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å°†å¾®æœåŠ¡æ„å»ºæˆé•œåƒ"><!---->å°†å¾®æœåŠ¡æ„å»ºæˆé•œåƒ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#è™šæ‚¬é•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è™šæ‚¬é•œåƒ"><!---->è™šæ‚¬é•œåƒ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#æŸ¥çœ‹è™šæ‚¬é•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æŸ¥çœ‹è™šæ‚¬é•œåƒ"><!---->æŸ¥çœ‹è™šæ‚¬é•œåƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#pruneæ‰è™šæ‚¬é•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="pruneæ‰è™šæ‚¬é•œåƒ"><!---->pruneæ‰è™šæ‚¬é•œåƒ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#dockeréƒ¨ç½²å®æˆ˜â˜…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Dockeréƒ¨ç½²å®æˆ˜â˜…"><!---->Dockeréƒ¨ç½²å®æˆ˜â˜…<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#javaé¡¹ç›®éƒ¨ç½²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Javaé¡¹ç›®éƒ¨ç½²"><!---->Javaé¡¹ç›®éƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#mysqléƒ¨ç½²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MySQLéƒ¨ç½²"><!---->MySQLéƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#rediséƒ¨ç½²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Rediséƒ¨ç½²"><!---->Rediséƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#mqéƒ¨ç½²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MQéƒ¨ç½²"><!---->MQéƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#nginxéƒ¨ç½²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Nginxéƒ¨ç½²"><!---->Nginxéƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#elasticsearchéƒ¨ç½²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Elasticsearchéƒ¨ç½²"><!---->Elasticsearchéƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#docker-networkâ˜…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker NetWorkâ˜…"><!---->Docker NetWorkâ˜…<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#bridgeæ¨¡å¼â˜†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Bridgeæ¨¡å¼â˜†"><!---->Bridgeæ¨¡å¼â˜†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#è‡ªå®šä¹‰æ¨¡å¼â˜†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è‡ªå®šä¹‰æ¨¡å¼â˜†"><!---->è‡ªå®šä¹‰æ¨¡å¼â˜†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#hostæ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Hostæ¨¡å¼"><!---->Hostæ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#containeræ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Containeræ¨¡å¼"><!---->Containeræ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#noneæ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Noneæ¨¡å¼"><!---->Noneæ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#docker-composeâ˜…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker Composeâ˜…"><!---->Docker Composeâ˜…<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#å®‰è£…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£…"><!---->å®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#å¸è½½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸è½½"><!---->å¸è½½<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#æ ¸å¿ƒæ¦‚å¿µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ ¸å¿ƒæ¦‚å¿µ"><!---->æ ¸å¿ƒæ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#docker-composeå¸¸ç”¨å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker-Composeå¸¸ç”¨å‘½ä»¤"><!---->Docker-Composeå¸¸ç”¨å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#docker-compose-ymlé…ç½®æŒ‡ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="docker-compose.ymlé…ç½®æŒ‡ä»¤"><!---->docker-compose.ymlé…ç½®æŒ‡ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/tools/Docker.html#è¿è¡Œå®ä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¿è¡Œå®ä¾‹"><!---->è¿è¡Œå®ä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/backend/tools/Git.html" class="nav-link sidebar-link sidebar-page" aria-label="Git"><!---->Git<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/tools/Maven.html" class="nav-link sidebar-link sidebar-page" aria-label="Mavené«˜çº§"><!---->Mavené«˜çº§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/tools/Nginx.html" class="nav-link sidebar-link sidebar-page" aria-label="Nginx"><!---->Nginx<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-note" style=""></span><span class="title">Article &amp; Papper</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Article</span><span class="arrow end"></span></button><!----></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Docker</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/EddieZturbo" target="_blank" rel="noopener noreferrer">EddieZ</a></span><span property="author" content="EddieZ"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 29 min</span><meta property="timeRequired" content="PT29M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#docker-æ¶æ„" class="router-link-active router-link-exact-active toc-link level2">Docker æ¶æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#linux-cent-os-7-install" class="router-link-active router-link-exact-active toc-link level2">Linux Cent OS 7 Install</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#docker-é•œåƒåŠ é€Ÿ" class="router-link-active router-link-exact-active toc-link level2">Docker é•œåƒåŠ é€Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#dockerå¸¸ç”¨å‘½ä»¤â˜…" class="router-link-active router-link-exact-active toc-link level2">Dockerå¸¸ç”¨å‘½ä»¤â˜…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#é•œåƒå‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">é•œåƒå‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#å®¹å™¨å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">å®¹å™¨å‘½ä»¤</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#dockeré•œåƒ" class="router-link-active router-link-exact-active toc-link level2">Dockeré•œåƒ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#åˆ†å±‚" class="router-link-active router-link-exact-active toc-link level3">åˆ†å±‚</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#dockeré•œåƒåŠ è½½åŸç†" class="router-link-active router-link-exact-active toc-link level3">Dockeré•œåƒåŠ è½½åŸç†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#æœ¬åœ°é•œåƒå‘å¸ƒåˆ°aliyun" class="router-link-active router-link-exact-active toc-link level2">æœ¬åœ°é•œåƒå‘å¸ƒåˆ°aliyun</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#ç§æœä»“åº“" class="router-link-active router-link-exact-active toc-link level2">ç§æœä»“åº“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#å®¹å™¨å·â˜…" class="router-link-active router-link-exact-active toc-link level2">å®¹å™¨å·â˜…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ·»åŠ æ˜ å°„å®¹å™¨å·" class="router-link-active router-link-exact-active toc-link level3">å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ·»åŠ æ˜ å°„å®¹å™¨å·</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#è¯»å†™è§„åˆ™rw-ro" class="router-link-active router-link-exact-active toc-link level3">è¯»å†™è§„åˆ™rw/ro</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#å®¹å™¨å·çš„ç»§æ‰¿å’Œå…±äº«" class="router-link-active router-link-exact-active toc-link level3">å®¹å™¨å·çš„ç»§æ‰¿å’Œå…±äº«</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#dockerå®¹å™¨ä¸‹çš„å¤æ‚å®‰è£…" class="router-link-active router-link-exact-active toc-link level2">Dockerå®¹å™¨ä¸‹çš„å¤æ‚å®‰è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#dockerfileâ˜…" class="router-link-active router-link-exact-active toc-link level2">DockerFileâ˜…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#dockerfileæŒ‡ä»¤" class="router-link-active router-link-exact-active toc-link level3">DockerfileæŒ‡ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#ä½¿ç”¨-dockerfile-å®šåˆ¶centosé•œåƒ" class="router-link-active router-link-exact-active toc-link level3">ä½¿ç”¨ Dockerfile å®šåˆ¶Centosé•œåƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#å°†å¾®æœåŠ¡æ„å»ºæˆé•œåƒ" class="router-link-active router-link-exact-active toc-link level3">å°†å¾®æœåŠ¡æ„å»ºæˆé•œåƒ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#è™šæ‚¬é•œåƒ" class="router-link-active router-link-exact-active toc-link level2">è™šæ‚¬é•œåƒ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#æŸ¥çœ‹è™šæ‚¬é•œåƒ" class="router-link-active router-link-exact-active toc-link level3">æŸ¥çœ‹è™šæ‚¬é•œåƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#pruneæ‰è™šæ‚¬é•œåƒ" class="router-link-active router-link-exact-active toc-link level3">pruneæ‰è™šæ‚¬é•œåƒ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#dockeréƒ¨ç½²å®æˆ˜â˜…" class="router-link-active router-link-exact-active toc-link level2">Dockeréƒ¨ç½²å®æˆ˜â˜…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#javaé¡¹ç›®éƒ¨ç½²" class="router-link-active router-link-exact-active toc-link level3">Javaé¡¹ç›®éƒ¨ç½²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#mysqléƒ¨ç½²" class="router-link-active router-link-exact-active toc-link level3">MySQLéƒ¨ç½²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#rediséƒ¨ç½²" class="router-link-active router-link-exact-active toc-link level3">Rediséƒ¨ç½²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#mqéƒ¨ç½²" class="router-link-active router-link-exact-active toc-link level3">MQéƒ¨ç½²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#nginxéƒ¨ç½²" class="router-link-active router-link-exact-active toc-link level3">Nginxéƒ¨ç½²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#elasticsearchéƒ¨ç½²" class="router-link-active router-link-exact-active toc-link level3">Elasticsearchéƒ¨ç½²</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#docker-networkâ˜…" class="router-link-active router-link-exact-active toc-link level2">Docker NetWorkâ˜…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#bridgeæ¨¡å¼â˜†" class="router-link-active router-link-exact-active toc-link level3">Bridgeæ¨¡å¼â˜†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#è‡ªå®šä¹‰æ¨¡å¼â˜†" class="router-link-active router-link-exact-active toc-link level3">è‡ªå®šä¹‰æ¨¡å¼â˜†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#hostæ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">Hostæ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#containeræ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">Containeræ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#noneæ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">Noneæ¨¡å¼</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#docker-composeâ˜…" class="router-link-active router-link-exact-active toc-link level2">Docker Composeâ˜…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#å®‰è£…" class="router-link-active router-link-exact-active toc-link level3">å®‰è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#å¸è½½" class="router-link-active router-link-exact-active toc-link level3">å¸è½½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#æ ¸å¿ƒæ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level3">æ ¸å¿ƒæ¦‚å¿µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#docker-composeå¸¸ç”¨å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">Docker-Composeå¸¸ç”¨å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#docker-compose-ymlé…ç½®æŒ‡ä»¤" class="router-link-active router-link-exact-active toc-link level3">docker-compose.ymlé…ç½®æŒ‡ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/tools/Docker.html#è¿è¡Œå®ä¾‹" class="router-link-active router-link-exact-active toc-link level3">è¿è¡Œå®ä¾‹</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="docker" tabindex="-1"><a class="header-anchor" href="#docker" aria-hidden="true">#</a> Docker</h1><p><a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker: Accelerated, Containerized Application Development<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://github.com/docker/docker-ce" target="_blank" rel="noopener noreferrer">GitHub - docker/docker-ce: This repository is deprecated and will be archived (Docker CE itself is NOT deprecated) see the https://github.com/docker/docker-ce/blob/master/README.md<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221212210743682.png" alt="image-20221212210743682"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213113557406.png" alt="image-20221213113557406"></p><p><a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">Docker Hub Container Image Library | App Containerization<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="docker-æ¶æ„" tabindex="-1"><a class="header-anchor" href="#docker-æ¶æ„" aria-hidden="true">#</a> Docker æ¶æ„</h2><p>Docker ä½¿ç”¨<strong>å®¢æˆ·ç«¯-æœåŠ¡å™¨ (C/S) æ¶æ„æ¨¡å¼</strong>ï¼Œä½¿ç”¨è¿œç¨‹APIæ¥ç®¡ç†å’Œåˆ›å»ºDockerå®¹å™¨ã€‚</p><ul><li><strong>Docker å®¢æˆ·ç«¯(Client)</strong> : Docker å®¢æˆ·ç«¯é€šè¿‡å‘½ä»¤è¡Œæˆ–è€…å…¶ä»–å·¥å…·ä½¿ç”¨ Docker SDK (https://docs.docker.com/develop/sdk/) ä¸ Docker çš„å®ˆæŠ¤è¿›ç¨‹é€šä¿¡ã€‚</li><li><strong>Docker ä¸»æœº(Host)</strong> ï¼šä¸€ä¸ªç‰©ç†æˆ–è€…è™šæ‹Ÿçš„æœºå™¨ç”¨äºæ‰§è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹å’Œå®¹å™¨ã€‚</li></ul><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230416100435961.png" alt="image-20230416100435961"></p><p>Docker åŒ…æ‹¬<strong>ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ:</strong></p><ul><li><strong>é•œåƒï¼ˆImageï¼‰</strong>ï¼šDocker é•œåƒï¼ˆImageï¼‰ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚å®˜æ–¹é•œåƒ ubuntu:16.04 å°±åŒ…å«äº†å®Œæ•´çš„ä¸€å¥— Ubuntu16.04 æœ€å°ç³»ç»Ÿçš„ root æ–‡ä»¶ç³»ç»Ÿã€‚</li><li><strong>å®¹å™¨ï¼ˆContainerï¼‰</strong>ï¼šé•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»å’Œå®ä¾‹ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</li><li><strong>ä»“åº“ï¼ˆRepositoryï¼‰</strong>ï¼šä»“åº“å¯çœ‹æˆä¸€ä¸ªä»£ç æ§åˆ¶ä¸­å¿ƒï¼Œç”¨æ¥ä¿å­˜é•œåƒã€‚</li></ul><p>Docker ä½¿ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨ (C/S) æ¶æ„æ¨¡å¼ï¼Œä½¿ç”¨è¿œç¨‹APIæ¥ç®¡ç†å’Œåˆ›å»ºDockerå®¹å™¨ã€‚</p><p>Docker å®¹å™¨é€šè¿‡ Docker é•œåƒæ¥åˆ›å»ºã€‚</p><p>å®¹å™¨ä¸é•œåƒçš„å…³ç³»ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¯¹è±¡ä¸ç±»ã€‚</p><table><thead><tr><th style="text-align:left;">Docker</th><th style="text-align:left;">é¢å‘å¯¹è±¡</th></tr></thead><tbody><tr><td style="text-align:left;">å®¹å™¨</td><td style="text-align:left;">å¯¹è±¡</td></tr><tr><td style="text-align:left;">é•œåƒ</td><td style="text-align:left;">ç±»</td></tr></tbody></table><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221212231228057.png" alt="image-20221212231228057"></p><table><thead><tr><th style="text-align:center;">æ¦‚å¿µ</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center;">Docker é•œåƒ(Images)</td><td style="text-align:left;">Docker é•œåƒæ˜¯ç”¨äºåˆ›å»º Docker å®¹å™¨çš„æ¨¡æ¿ï¼Œæ¯”å¦‚ Ubuntu ç³»ç»Ÿã€‚</td></tr><tr><td style="text-align:center;">Docker å®¹å™¨(Container)</td><td style="text-align:left;">å®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼Œæ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚</td></tr><tr><td style="text-align:center;">Docker å®¢æˆ·ç«¯(Client)</td><td style="text-align:left;">Docker å®¢æˆ·ç«¯é€šè¿‡å‘½ä»¤è¡Œæˆ–è€…å…¶ä»–å·¥å…·ä½¿ç”¨ Docker SDK (https://docs.docker.com/develop/sdk/) ä¸ Docker çš„å®ˆæŠ¤è¿›ç¨‹é€šä¿¡ã€‚</td></tr><tr><td style="text-align:center;">Docker ä¸»æœº(Host)</td><td style="text-align:left;">ä¸€ä¸ªç‰©ç†æˆ–è€…è™šæ‹Ÿçš„æœºå™¨ç”¨äºæ‰§è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹å’Œå®¹å™¨ã€‚</td></tr><tr><td style="text-align:center;">Docker Registry</td><td style="text-align:left;">Docker ä»“åº“ç”¨æ¥ä¿å­˜é•œåƒï¼Œå¯ä»¥ç†è§£ä¸ºä»£ç æ§åˆ¶ä¸­çš„ä»£ç ä»“åº“ã€‚Docker Hub(<a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">https://hub.docker.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>) æä¾›äº†åºå¤§çš„é•œåƒé›†åˆä¾›ä½¿ç”¨ã€‚ä¸€ä¸ª Docker Registry ä¸­å¯ä»¥åŒ…å«å¤šä¸ªä»“åº“ï¼ˆRepositoryï¼‰ï¼›æ¯ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ªæ ‡ç­¾ï¼ˆTagï¼‰ï¼›æ¯ä¸ªæ ‡ç­¾å¯¹åº”ä¸€ä¸ªé•œåƒã€‚é€šå¸¸ï¼Œä¸€ä¸ªä»“åº“ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„é•œåƒï¼Œè€Œæ ‡ç­¾å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <strong>&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt;</strong> çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœä¸ç»™å‡ºæ ‡ç­¾ï¼Œå°†ä»¥ <strong>latest</strong> ä½œä¸ºé»˜è®¤æ ‡ç­¾ã€‚</td></tr><tr><td style="text-align:center;">Docker Machine</td><td style="text-align:left;">Docker Machineæ˜¯ä¸€ä¸ªç®€åŒ–Dockerå®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå³å¯åœ¨ç›¸åº”çš„å¹³å°ä¸Šå®‰è£…Dockerï¼Œæ¯”å¦‚VirtualBoxã€ Digital Oceanã€Microsoft Azureã€‚</td></tr></tbody></table><h2 id="linux-cent-os-7-install" tabindex="-1"><a class="header-anchor" href="#linux-cent-os-7-install" aria-hidden="true">#</a> Linux Cent OS 7 Install</h2><p><strong>å®‰è£… Docker Engine-Community ä½¿ç”¨ Docker ä»“åº“è¿›è¡Œå®‰è£…</strong></p><p>å¸è½½è€ç‰ˆæœ¬</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> sudo yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®‰è£…æ‰€éœ€è¦çš„è½¯ä»¶åŒ…</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum -y install gcc

yum -y install gcc-c++
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¾ç½®ä»“åº“</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>é˜¿é‡Œäº‘
$ sudo yum-config-manager \
    --add-repo \
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
    
æ¸…åå¤§å­¦æº
$ sudo yum-config-manager \
    --add-repo \
    https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ›´æ–°yumå…ƒä»¶åŒ…ç´¢å¼•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum makecache fast
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å®‰è£… Docker Engine-Community æœ€è¿‘ç‰ˆæœ¬</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ sudo yum install docker-ce docker-ce-cli containerd.io
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221212230745921.png" alt="image-20221212230745921"></p><p>å¯åŠ¨ Docker</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ sudo systemctl start docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221212230952197.png" alt="image-20221212230952197"></p><p>æŸ¥çœ‹ç‰ˆæœ¬</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@192 ~]# docker version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221212231058720.png" alt="image-20221212231058720"></p><p>Hello World</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221212231915265.png" alt="image-20221212231915265"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213081230899.png" alt="image-20221213081230899"></p><h2 id="docker-é•œåƒåŠ é€Ÿ" tabindex="-1"><a class="header-anchor" href="#docker-é•œåƒåŠ é€Ÿ" aria-hidden="true">#</a> Docker é•œåƒåŠ é€Ÿ</h2><p>é˜¿é‡Œäº‘é•œåƒè·å–åœ°å€ï¼šhttps://cr.console.aliyun.com/cn-hangzhou/instances/mirrorsï¼Œç™»é™†åï¼Œå·¦ä¾§èœå•é€‰ä¸­é•œåƒåŠ é€Ÿå™¨å°±å¯ä»¥çœ‹åˆ°ä½ çš„ä¸“å±åœ°å€äº†</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221212232640952.png" alt="image-20221212232640952"></p><p>å¯ä»¥é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶/etc/docker/daemon.jsonæ¥ä½¿ç”¨åŠ é€Ÿå™¨</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json &lt;&lt;-&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://6tkr32bt.mirror.aliyuncs.com&quot;]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆ</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221212232957453.png" alt="image-20221212232957453"></p><h2 id="dockerå¸¸ç”¨å‘½ä»¤â˜…" tabindex="-1"><a class="header-anchor" href="#dockerå¸¸ç”¨å‘½ä»¤â˜…" aria-hidden="true">#</a> Dockerå¸¸ç”¨å‘½ä»¤â˜…</h2><p><a href="https://www.runoob.com/docker/docker-command-manual.html" target="_blank" rel="noopener noreferrer">Docker å‘½ä»¤å¤§å…¨ | èœé¸Ÿæ•™ç¨‹ (runoob.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213105701021.png" alt="image-20221213105701021"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213105733766.png" alt="image-20221213105733766"></p><h3 id="å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤" aria-hidden="true">#</a> å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>å¯åŠ¨
systemctl start docker

åœæ­¢
systemctl stop docker

é‡å¯
systemctl restart docker

æŸ¥çœ‹çŠ¶æ€
systemctl status docker

å¼€å¯å¼€æœºå¯åŠ¨
systemctl enable docker

æŸ¥çœ‹æ¦‚è¦ä¿¡æ¯
docker info

å¸®åŠ©æ–‡æ¡£
docker --help

å…·ä½“å‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£
docker å…·ä½“å‘½ä»¤ --help
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é•œåƒå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#é•œåƒå‘½ä»¤" aria-hidden="true">#</a> é•œåƒå‘½ä»¤</h3><p><strong>docker images :</strong> åˆ—å‡ºæœ¬åœ°é•œåƒã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker images [OPTIONS] [REPOSITORY[:TAG]]

-a :åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„é•œåƒï¼ˆå«ä¸­é—´æ˜ åƒå±‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿‡æ»¤æ‰ä¸­é—´æ˜ åƒå±‚ï¼‰ï¼›

--digests :æ˜¾ç¤ºé•œåƒçš„æ‘˜è¦ä¿¡æ¯ï¼›

-f :æ˜¾ç¤ºæ»¡è¶³æ¡ä»¶çš„é•œåƒï¼›

--format :æŒ‡å®šè¿”å›å€¼çš„æ¨¡æ¿æ–‡ä»¶ï¼›

--no-trunc :æ˜¾ç¤ºå®Œæ•´çš„é•œåƒä¿¡æ¯ï¼›

-q :åªæ˜¾ç¤ºé•œåƒIDã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213082943563.png" alt="image-20221213082943563"></p><p>åˆ—å‡ºæœ¬åœ°é•œåƒä¸­REPOSITORYä¸ºubuntuçš„é•œåƒåˆ—è¡¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>root@runoob:~# docker images  ubuntu
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
ubuntu              14.04               90d5884b1ee0        9 weeks ago         188 MB
ubuntu              15.10               4e3b13c8a266        3 months ago        136.3 MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>docker search :</strong> ä»Docker HubæŸ¥æ‰¾é•œåƒ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker search [OPTIONS] TERM

--automated :åªåˆ—å‡º automated buildç±»å‹çš„é•œåƒï¼›

--no-trunc :æ˜¾ç¤ºå®Œæ•´çš„é•œåƒæè¿°ï¼›

-f &lt;è¿‡æ»¤æ¡ä»¶&gt;:åˆ—å‡ºæ”¶è—æ•°ä¸å°äºæŒ‡å®šå€¼çš„é•œåƒã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä» Docker Hub æŸ¥æ‰¾æ‰€æœ‰é•œåƒååŒ…å« javaï¼Œå¹¶ä¸”æ”¶è—æ•°å¤§äº 10 çš„é•œåƒ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>runoob@runoob:~$ docker search -f stars=10 java
NAME                  DESCRIPTION                           STARS   OFFICIAL   AUTOMATED
java                  Java is a concurrent, class-based...   1037    [OK]       
anapsix/alpine-java   Oracle Java 8 (and 7) with GLIBC ...   115                [OK]
develar/java                                                 46                 [OK]
isuper/java-oracle    This repository contains all java...   38                 [OK]
lwieske/java-8        Oracle Java 8 Container - Full + ...   27                 [OK]
nimmis/java-centos    This is docker images of CentOS 7...   13                 [OK]

NAME: é•œåƒä»“åº“æºçš„åç§°

DESCRIPTION: é•œåƒçš„æè¿°

OFFICIAL: æ˜¯å¦ docker å®˜æ–¹å‘å¸ƒ

stars: ç±»ä¼¼ Github é‡Œé¢çš„ starï¼Œè¡¨ç¤ºç‚¹èµã€å–œæ¬¢çš„æ„æ€ã€‚

AUTOMATED: è‡ªåŠ¨æ„å»ºã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªçœ‹å‰äº”ä¸ª ä½¿ç”¨--limitè¿›è¡Œé™åˆ¶</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@192 ~]# docker search --limit 5 redis
NAME                     DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
redis                    Redis is an open source key-value store thatâ€¦   11651     [OK]       
redislabs/redisinsight   RedisInsight - The GUI for Redis                75                   
redislabs/redisearch     Redis With the RedisSearch module pre-loadedâ€¦   56                   
redislabs/redis          Clustered in-memory database engine compatibâ€¦   36                   
redislabs/rebloom        A probablistic datatypes module for Redis       21                   [OK]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>docker pull :</strong> ä»é•œåƒä»“åº“ä¸­æ‹‰å–æˆ–è€…æ›´æ–°æŒ‡å®šé•œåƒ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker pull [OPTIONS] NAME[:TAG|@DIGEST]
æœªæŒ‡å®štagçš„é»˜è®¤æ‹‰å–æœ€æ–°çš„ç‰ˆæœ¬

-a :æ‹‰å–æ‰€æœ‰ tagged é•œåƒ

--disable-content-trust :å¿½ç•¥é•œåƒçš„æ ¡éªŒ,é»˜è®¤å¼€å¯
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”¨äºè·å–æŒ‡å®šç¼–è¯‘å¹³å°çš„é•œåƒï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker pull --platform=arm64|amd64... image_name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>docker push :</strong> å°†æœ¬åœ°çš„é•œåƒä¸Šä¼ åˆ°é•œåƒä»“åº“,è¦å…ˆç™»é™†åˆ°é•œåƒä»“åº“</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker push [OPTIONS] NAME[:TAG]

--disable-content-trust :å¿½ç•¥é•œåƒçš„æ ¡éªŒ,é»˜è®¤å¼€å¯
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šä¼ æœ¬åœ°é•œåƒmyapache:v1åˆ°é•œåƒä»“åº“ä¸­ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker push myapache:v1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>**docker system df ï¼š**æŸ¥çœ‹é•œåƒ/å®¹å™¨/æ•°æ®å·æ‰€å ç”¨ç©ºé—´</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@192 ~]# docker system df
TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE
Images          1         1         13.26kB   0B (0%)
Containers      1         0         0B        0B
Local Volumes   0         0         0B        0B
Build Cache     0         0         0B        0B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>docker rmi :</strong> åˆ é™¤æœ¬åœ°ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker rmi [OPTIONS] IMAGE [IMAGE...]

-f :å¼ºåˆ¶åˆ é™¤ï¼›

--no-prune :ä¸ç§»é™¤è¯¥é•œåƒçš„è¿‡ç¨‹é•œåƒï¼Œé»˜è®¤ç§»é™¤ï¼›
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼ºåˆ¶åˆ é™¤æœ¬åœ°é•œåƒ runoob/ubuntu:v4ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>root@runoob:~# docker rmi -f runoob/ubuntu:v4
Untagged: runoob/ubuntu:v4
Deleted: sha256:1c06aa18edee44230f93a90a7d88139235de12cd4c089d41eed8419b503072be
Deleted: sha256:85feb446e89a28d58ee7d80ea5ce367eebb7cec70f0ec18aa4faa874cbd97c73
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ é™¤æ‰€æœ‰æœ¬åœ°é•œåƒ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@192 ~]# docker rmi -f $(docker images -qa)
Untagged: hello-world:latest
Untagged: hello-world@sha256:faa03e786c97f07ef34423fccceeec2398ec8a5759259f94d99078f264e9d7af
Deleted: sha256:feb5d9fea6a5e9606aa995e879d862b825965ba48de054caab5ef356dc6b3412
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**docker prune å‘½ä»¤ï¼š**prune å‘½ä»¤ç”¨æ¥åˆ é™¤ä¸å†ä½¿ç”¨çš„ docker å¯¹è±¡ã€‚</p><p>åˆ é™¤æ‰€æœ‰æœªè¢« tag æ ‡è®°å’Œæœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒ:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker image prune
WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] y
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ é™¤æ‰€æœ‰æœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒ:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker image prune -a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ é™¤æ‰€æœ‰åœæ­¢è¿è¡Œçš„å®¹å™¨:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker container prune
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ é™¤æ‰€æœ‰æœªè¢«æŒ‚è½½çš„å·:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker volume prune
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ é™¤æ‰€æœ‰ç½‘ç»œ:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker network prune
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ é™¤ docker æ‰€æœ‰èµ„æº:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker system prune
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="å®¹å™¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨å‘½ä»¤" aria-hidden="true">#</a> å®¹å™¨å‘½ä»¤</h3><p>**docker run ï¼š**åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]

-a stdin: æŒ‡å®šæ ‡å‡†è¾“å…¥è¾“å‡ºå†…å®¹ç±»å‹ï¼Œå¯é€‰ STDIN/STDOUT/STDERR ä¸‰é¡¹ï¼›

-d: åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼›

-i: ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›

-P: éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨å†…éƒ¨ç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£

-p: æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£

-t: ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼›

--name=&quot;nginx-lb&quot;: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼›

--dns 8.8.8.8: æŒ‡å®šå®¹å™¨ä½¿ç”¨çš„DNSæœåŠ¡å™¨ï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ï¼›

--dns-search example.com: æŒ‡å®šå®¹å™¨DNSæœç´¢åŸŸåï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ï¼›

-h &quot;mars&quot;: æŒ‡å®šå®¹å™¨çš„hostnameï¼›

-e username=&quot;ritchie&quot;: è®¾ç½®ç¯å¢ƒå˜é‡ï¼›

--env-file=[]: ä»æŒ‡å®šæ–‡ä»¶è¯»å…¥ç¯å¢ƒå˜é‡ï¼›

--cpuset=&quot;0-2&quot; or --cpuset=&quot;0,1,2&quot;: ç»‘å®šå®¹å™¨åˆ°æŒ‡å®šCPUè¿è¡Œï¼›

-m :è®¾ç½®å®¹å™¨ä½¿ç”¨å†…å­˜æœ€å¤§å€¼ï¼›

--net=&quot;bridge&quot;: æŒ‡å®šå®¹å™¨çš„ç½‘ç»œè¿æ¥ç±»å‹ï¼Œæ”¯æŒ bridge/host/none/container: å››ç§ç±»å‹ï¼›

--link=[]: æ·»åŠ é“¾æ¥åˆ°å¦ä¸€ä¸ªå®¹å™¨ï¼›

--expose=[]: å¼€æ”¾ä¸€ä¸ªç«¯å£æˆ–ä¸€ç»„ç«¯å£ï¼›

--volume , -v: ç»‘å®šä¸€ä¸ªå·
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨dockeré•œåƒUbuntuå®¹å™¨ï¼› äº¤äº’å¼å¯åŠ¨å¹¶åœ¨å®¹å™¨å†…æ‰§è¡Œ/bin/bashï¼ˆbashï¼‰å‘½ä»¤; æŒ‡å®šnameä¸ºmyubuntu</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@192 ~]# docker run --name myubuntu -it ubuntu bash
root@3988f7d93f0e:/# ls
bin   dev  home  lib32  libx32  mnt  proc  run   srv  tmp  var
boot  etc  lib   lib64  media   opt  root  sbin  sys  usr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@192 ~]# docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED         STATUS         PORTS     NAMES
3988f7d93f0e   ubuntu    &quot;bash&quot;    3 minutes ago   Up 3 minutes             myubuntu
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**exitï¼š**ä»å®¹å…¶ä¸­é€€å‡ºå¹¶åœæ­¢å®¹å™¨ **Ctrl + q + pï¼š**ä»å®¹å™¨ä¸­é€€å‡ºä¸åœæ­¢å®¹å™¨</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>root@3988f7d93f0e:/# exit
exit
[root@192 ~]# 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»‘å®šå®¹å™¨çš„ 8080 ç«¯å£ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°æœ¬åœ°ä¸»æœº 127.0.0.1 çš„ 80 ç«¯å£ä¸Šã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker run -p 127.0.0.1:80:8080/tcp ubuntu bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨é•œåƒ nginx:latestï¼Œä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å°†å®¹å™¨çš„ 80 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 80 ç«¯å£,ä¸»æœºçš„ç›®å½• /data æ˜ å°„åˆ°å®¹å™¨çš„ /dataã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker run -p 80:80 -v /data:/data -d nginx:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213093702964.png" alt="image-20221213093702964"></p><p>**docker rm ï¼š**åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker rm [OPTIONS] CONTAINER [CONTAINER...]

-f :é€šè¿‡ SIGKILL ä¿¡å·å¼ºåˆ¶åˆ é™¤ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ã€‚

-l :ç§»é™¤å®¹å™¨é—´çš„ç½‘ç»œè¿æ¥ï¼Œè€Œéå®¹å™¨æœ¬èº«ã€‚

-v :åˆ é™¤ä¸å®¹å™¨å…³è”çš„å·ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ é™¤æ‰€æœ‰å·²ç»åœæ­¢çš„å®¹å™¨ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker rm $(docker ps -a -q)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>docker ps :</strong> åˆ—å‡ºå®¹å™¨</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker ps [OPTIONS]

-a :æ˜¾ç¤ºæ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„ã€‚

-f :æ ¹æ®æ¡ä»¶è¿‡æ»¤æ˜¾ç¤ºçš„å†…å®¹ã€‚

--format :æŒ‡å®šè¿”å›å€¼çš„æ¨¡æ¿æ–‡ä»¶ã€‚

-l :æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨ã€‚

-n :åˆ—å‡ºæœ€è¿‘åˆ›å»ºçš„nä¸ªå®¹å™¨ã€‚

--no-trunc :ä¸æˆªæ–­è¾“å‡ºã€‚

-q :é™é»˜æ¨¡å¼ï¼Œåªæ˜¾ç¤ºå®¹å™¨ç¼–å·ã€‚

-s :æ˜¾ç¤ºæ€»çš„æ–‡ä»¶å¤§å°ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>docker start</strong> :å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»è¢«åœæ­¢çš„å®¹å™¨</p><p><strong>docker stop</strong> :åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨</p><p><strong>docker restart</strong> :é‡å¯å®¹å™¨</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker start [OPTIONS] CONTAINER [CONTAINER...]
docker stop [OPTIONS] CONTAINER [CONTAINER...]
docker restart [OPTIONS] CONTAINER [CONTAINER...]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>docker kill</strong> :æ€æ‰ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker kill [OPTIONS] CONTAINER [CONTAINER...]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>docker pause</strong> :æš‚åœå®¹å™¨ä¸­æ‰€æœ‰çš„è¿›ç¨‹ã€‚</p><p><strong>docker unpause</strong> :æ¢å¤å®¹å™¨ä¸­æ‰€æœ‰çš„è¿›ç¨‹ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker pause CONTAINER [CONTAINER...]
docker unpause CONTAINER [CONTAINER...]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>**docker exec ï¼š**åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker exec [OPTIONS] CONTAINER COMMAND [ARG...]

-d :åˆ†ç¦»æ¨¡å¼: åœ¨åå°è¿è¡Œ

-i :å³ä½¿æ²¡æœ‰é™„åŠ ä¹Ÿä¿æŒSTDIN æ‰“å¼€

-t :åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å®¹å™¨ mynginx ä¸­ä»¥äº¤äº’æ¨¡å¼æ‰§è¡Œå®¹å™¨å†… /root/runoob.sh è„šæœ¬:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>runoob@runoob:~$ docker exec -it mynginx /bin/sh /root/runoob.sh
http://www.runoob.com/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å®¹å™¨ mynginx ä¸­å¼€å¯ä¸€ä¸ªäº¤äº’æ¨¡å¼çš„ç»ˆç«¯:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>runoob@runoob:~$ docker exec -i -t  mynginx /bin/bash
root@b1a0703e41e7:/#
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥é€šè¿‡ <strong>docker ps -a</strong> å‘½ä»¤æŸ¥çœ‹å·²ç»åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œç„¶åä½¿ç”¨å®¹å™¨ ID è¿›å…¥å®¹å™¨ã€‚</p><p>æŸ¥çœ‹å·²ç»åœ¨è¿è¡Œçš„å®¹å™¨ IDï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># docker ps -a 
...
9df70f9a0714        openjdk             &quot;/usercode/script.shâ€¦&quot; 
...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸€åˆ—çš„ 9df70f9a0714 å°±æ˜¯å®¹å™¨ IDã€‚</p><p>é€šè¿‡ exec å‘½ä»¤å¯¹æŒ‡å®šçš„å®¹å™¨æ‰§è¡Œ bash:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># docker exec -it 9df70f9a0714 /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>docker inspect å®¹å™¨</strong>ï¼šæ£€é˜…å®¹å™¨</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker inspect redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å®¹å™¨è‡ªåŠ¨å¯åŠ¨</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker udpate (containerId) --restart=always
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="dockeré•œåƒ" tabindex="-1"><a class="header-anchor" href="#dockeré•œåƒ" aria-hidden="true">#</a> Dockeré•œåƒ</h2><p><strong>é•œåƒ</strong>ï¼šæ˜¯ä¸€ç§<strong>è½»é‡çº§ï¼Œå¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…</strong>ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼Œæˆ‘ä»¬æŠŠåº”ç”¨ç¨‹åºå’Œé…ç½®ä¾èµ–æ‰“åŒ…å¥½æˆä¸€ä¸ªå¯äº¤ä»˜çš„è¿è¡Œç¯å¢ƒï¼ˆåŒ…æ‹¬<strong>ä»£ç ï¼Œè¿è¡Œæ—¶éœ€è¦çš„åº“ï¼Œç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶</strong>ç­‰ï¼‰ï¼Œè¿™ä¸ªæ‰“åŒ…å¥½çš„è¿è¡Œç¯å¢ƒå°±æ˜¯imageé•œåƒæ–‡ä»¶</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213112935552.png" alt="image-20221213112935552"></p><h3 id="åˆ†å±‚" tabindex="-1"><a class="header-anchor" href="#åˆ†å±‚" aria-hidden="true">#</a> åˆ†å±‚</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213115711428.png" alt="image-20221213115711428"></p><p>é•œåƒé‡‡ç”¨åˆ†å±‚çš„æœ€å¤§å¥½å¤„å°±æ˜¯å…±äº«èµ„æºï¼Œæ–¹ä¾¿å¤åˆ¶è¿ç§»ï¼Œå°±æ˜¯ä¸ºäº†å¤ç”¨</p><p>å¤šä¸ªé•œåƒéƒ½æ˜¯ç”±ç›¸åŒçš„baseé•œåƒæ„å»ºè€Œæ¥ï¼Œé‚£ä¹ˆDocker Hoståªéœ€åœ¨ç£ç›˜ä¸­ä¿å­˜ä¸€ä»½baseé•œåƒï¼›</p><p>åŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€åŠ è½½ä¸€ä»½baseé•œåƒï¼Œå°±å¯ä»¥ä¸ºæ‰€æœ‰çš„å®¹å™¨æœåŠ¡ã€‚å¹¶ä¸”é•œåƒæ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«</p><p><strong>é•œåƒå±‚ï¼šåªè¯»å±‚</strong></p><p><strong>å®¹å™¨å±‚ï¼šå¯å†™å±‚</strong></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213114830383.png" alt="image-20221213114830383"></p><h3 id="dockeré•œåƒåŠ è½½åŸç†" tabindex="-1"><a class="header-anchor" href="#dockeré•œåƒåŠ è½½åŸç†" aria-hidden="true">#</a> Dockeré•œåƒåŠ è½½åŸç†</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221213115716043.png" alt="image-20221213115716043"></p><p>dockeré•œåƒå®é™…æ˜¯ç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œè¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»Ÿç§°ä¹‹ä¸ºUnionFS</p><p>BootFSï¼ˆBoot File Systemï¼‰ä¸»è¦åŒ…å«BootLoaderå’ŒKernel;BootLoaderä¸»è¦æ˜¯å¼•å¯¼åŠ è½½kernelï¼ŒLinuxåˆšå¯åŠ¨æ—¶ä¼šåŠ è½½bootfsæ–‡ä»¶ç³»ç»Ÿã€‚</p><p>åœ¨Dockeré•œåƒçš„æœ€åº•å±‚æ˜¯å¼•å¯¼æ–‡ä»¶ç³»ç»Ÿbootfsã€‚è¿™ä¸€å±‚ä¸å…¸å‹çš„Linuxç³»ç»Ÿä¸€æ ·ï¼ŒåŒ…å«bootåŠ è½½å™¨å’Œå†…æ ¸ã€‚å½“bootåŠ è½½å®Œæˆä¹‹åï¼Œæ•´ä¸ªå†…æ ¸å°±åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„æ˜¯å“Ÿæƒå·²ç”±bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½bootfsã€‚</p><p>rootfså¯ä»¥å¾ˆå°ï¼›åªéœ€è¦åŒ…æ‹¬æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå·¥å…·å’Œç¨‹åºåº“å³å¯ï¼›å› ä¸ºæœ€åº•å±‚ç›´æ¥ä½¿ç”¨äº†hostå®¿ä¸»æœºçš„kernelï¼Œè‡ªå·±åªéœ€è¦æä¾›rootfså³å¯ï¼›</p><p>ä¾‹å¦‚ä¸åŒçš„Linuxå‘è¡Œç‰ˆæœ¬ï¼ŒbootfsåŸºæœ¬ä¸€è‡´ï¼Œrootfsä¼šæœ‰å·®åˆ«ï¼Œå› æ­¤ä¸åŒçš„å‘è¡Œç‰ˆå¯ä»¥å…±ç”¨bootfsã€‚</p><h2 id="æœ¬åœ°é•œåƒå‘å¸ƒåˆ°aliyun" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°é•œåƒå‘å¸ƒåˆ°aliyun" aria-hidden="true">#</a> æœ¬åœ°é•œåƒå‘å¸ƒåˆ°aliyun</h2><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221215100748194.png" alt="image-20221215100748194"></p><h2 id="ç§æœä»“åº“" tabindex="-1"><a class="header-anchor" href="#ç§æœä»“åº“" aria-hidden="true">#</a> ç§æœä»“åº“</h2><h2 id="å®¹å™¨å·â˜…" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨å·â˜…" aria-hidden="true">#</a> å®¹å™¨å·â˜…</h2><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221215102642770.png" alt="image-20221215102642770"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221215102750514.png" alt="image-20221215102750514"></p><h3 id="å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ·»åŠ æ˜ å°„å®¹å™¨å·" tabindex="-1"><a class="header-anchor" href="#å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ·»åŠ æ˜ å°„å®¹å™¨å·" aria-hidden="true">#</a> å®¿ä¸»æœºå’Œå®¹å™¨ä¹‹é—´æ·»åŠ æ˜ å°„å®¹å™¨å·</h3><p><strong>tip: --privilegedï¼ˆå¼€å¯æƒé™ï¼‰</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>dicker run --name redis -p 6379:6379 --privileged=true -v å®¿ä¸»æœºè·¯å¾„ç›®å½•:å®¹å™¨å†…è·¯å¾„ç›®å½• -d redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="è¯»å†™è§„åˆ™rw-ro" tabindex="-1"><a class="header-anchor" href="#è¯»å†™è§„åˆ™rw-ro" aria-hidden="true">#</a> è¯»å†™è§„åˆ™rw/ro</h3><p><strong>é»˜è®¤æ”¯æŒä¸»æœºå’Œå®¹å™¨äº’é€šè¯»å†™</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>dicker run --name redis -p 6379:6379 --privileged=true -v å®¿ä¸»æœºè·¯å¾„ç›®å½•:å®¹å™¨å†…è·¯å¾„ç›®å½•:rw -d redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>é™åˆ¶å®¹å™¨å†…çš„å†™</strong></p><p><strong>æ­¤æ—¶å®¿ä¸»æœºå†™å…¥çš„å†…å®¹å¯ä»¥åŒæ­¥åˆ°å®¹å™¨å†…</strong>ï¼Œå®¹å™¨å¯ä»¥è¯»å–åˆ°ï¼›å®¹å™¨ä¸èƒ½å†™</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221215103636796.png" alt="image-20221215103636796"></p><h3 id="å®¹å™¨å·çš„ç»§æ‰¿å’Œå…±äº«" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨å·çš„ç»§æ‰¿å’Œå…±äº«" aria-hidden="true">#</a> å®¹å™¨å·çš„ç»§æ‰¿å’Œå…±äº«</h3><p><strong>ä½¿ç”¨ --volume-from å®¹å™¨01</strong></p><p><strong>ç…§æ¬å®¹å™¨01çš„æ˜ å°„å·è§„åˆ™</strong></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221215104959713.png" alt="image-20221215104959713"></p><h2 id="dockerå®¹å™¨ä¸‹çš„å¤æ‚å®‰è£…" tabindex="-1"><a class="header-anchor" href="#dockerå®¹å™¨ä¸‹çš„å¤æ‚å®‰è£…" aria-hidden="true">#</a> Dockerå®¹å™¨ä¸‹çš„å¤æ‚å®‰è£…</h2><h2 id="dockerfileâ˜…" tabindex="-1"><a class="header-anchor" href="#dockerfileâ˜…" aria-hidden="true">#</a> DockerFileâ˜…</h2><p><a href="https://www.runoob.com/docker/docker-dockerfile.html" target="_blank" rel="noopener noreferrer">Docker Dockerfile | èœé¸Ÿæ•™ç¨‹ (runoob.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>DockerFile æ˜¯ä¸€ä¸ªç”¨æ¥æ„å»ºé•œåƒçš„æ–‡æœ¬æ–‡ä»¶</p></blockquote><h3 id="dockerfileæŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#dockerfileæŒ‡ä»¤" aria-hidden="true">#</a> DockerfileæŒ‡ä»¤</h3><h4 id="dockerfileæŒ‡ä»¤æ‘˜è¦" tabindex="-1"><a class="header-anchor" href="#dockerfileæŒ‡ä»¤æ‘˜è¦" aria-hidden="true">#</a> DockerfileæŒ‡ä»¤æ‘˜è¦ï¼š</h4><ul><li><p>FROM- é•œåƒä»é‚£é‡Œæ¥</p></li><li><p>MAINTAINER- é•œåƒç»´æŠ¤è€…ä¿¡æ¯</p></li><li><p>RUN- æ„å»ºé•œåƒæ‰§è¡Œçš„å‘½ä»¤ï¼Œæ¯ä¸€æ¬¡RUNéƒ½ä¼šæ„å»ºä¸€å±‚</p></li><li><p>CMD- å®¹å™¨å¯åŠ¨çš„å‘½ä»¤ï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ™ä»¥æœ€åä¸€ä¸ªä¸ºå‡†ï¼Œä¹Ÿå¯ä»¥ä¸ºENTRYPOINTæä¾›å‚æ•°</p></li><li><p>VOLUME- å®šä¹‰æ•°æ®å·ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰åˆ™ä½¿ç”¨é»˜è®¤</p></li><li><p>USER- æŒ‡å®šåç»­æ‰§è¡Œçš„ç”¨æˆ·ç»„å’Œç”¨æˆ·</p></li><li><p>WORKDIR- åˆ‡æ¢å½“å‰æ‰§è¡Œçš„å·¥ä½œç›®å½•</p></li><li><p>HEALTHCHECH- å¥åº·æ£€æµ‹æŒ‡ä»¤</p></li><li><p>ARG- å˜é‡å±æ€§å€¼ï¼Œä½†ä¸åœ¨å®¹å™¨å†…éƒ¨èµ·ä½œç”¨</p></li><li><p>EXPOSE- æš´éœ²ç«¯å£</p></li><li><p>ENV- å˜é‡å±æ€§å€¼ï¼Œå®¹å™¨å†…éƒ¨ä¹Ÿä¼šèµ·ä½œç”¨</p></li><li><p>ADD- æ·»åŠ æ–‡ä»¶ï¼Œå¦‚æœæ˜¯å‹ç¼©æ–‡ä»¶ä¹Ÿè§£å‹</p></li><li><p>COPY- æ·»åŠ æ–‡ä»¶ï¼Œä»¥å¤åˆ¶çš„å½¢å¼</p></li><li><p>ENTRYPOINT- å®¹å™¨è¿›å…¥æ—¶æ‰§è¡Œçš„å‘½ä»¤</p></li></ul><h4 id="dockerfileæŒ‡ä»¤-1" tabindex="-1"><a class="header-anchor" href="#dockerfileæŒ‡ä»¤-1" aria-hidden="true">#</a> DockerfileæŒ‡ä»¤ï¼š</h4><ul><li>FROM</li></ul><p>æ„å»ºé•œåƒåŸºäºå“ªä¸ªé•œåƒ</p><ul><li>MAINTAINER</li></ul><p>é•œåƒç»´æŠ¤è€…å§“åæˆ–é‚®ç®±åœ°å€</p><ul><li>RUN</li></ul><p>æ„å»ºé•œåƒæ—¶è¿è¡Œçš„æŒ‡ä»¤</p><ul><li>CMD</li></ul><p>è¿è¡Œå®¹å™¨æ—¶æ‰§è¡Œçš„shellç¯å¢ƒ</p><ul><li>VOLUME</li></ul><p>æŒ‡å®šå®¹å™¨æŒ‚è½½ç‚¹åˆ°å®¿ä¸»æœºè‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•æˆ–å…¶ä»–å®¹å™¨</p><ul><li>USER</li></ul><p>ä¸ºRUNã€CMDã€å’Œ ENTRYPOINT æ‰§è¡Œå‘½ä»¤æŒ‡å®šè¿è¡Œç”¨æˆ·</p><ul><li>WORKDIR</li></ul><p>ä¸º RUNã€CMDã€ENTRYPOINTã€COPY å’Œ ADD è®¾ç½®å·¥ä½œç›®å½•ï¼Œå°±æ˜¯åˆ‡æ¢ç›®å½•</p><ul><li>HEALTHCHECH</li></ul><p>å¥åº·æ£€æŸ¥</p><ul><li>ARG</li></ul><p>æ„å»ºæ—¶æŒ‡å®šçš„ä¸€äº›å‚æ•°</p><ul><li>EXPOSE</li></ul><p>å£°æ˜å®¹å™¨çš„æœåŠ¡ç«¯å£ï¼ˆä»…ä»…æ˜¯å£°æ˜ï¼‰</p><ul><li>ENV</li></ul><p>è®¾ç½®å®¹å™¨ç¯å¢ƒå˜é‡</p><ul><li>ADD</li></ul><p>æ‹·è´æ–‡ä»¶æˆ–ç›®å½•åˆ°å®¹å™¨ä¸­ï¼Œå¦‚æœæ˜¯URLæˆ–å‹ç¼©åŒ…ä¾¿ä¼šè‡ªåŠ¨ä¸‹è½½æˆ–è‡ªåŠ¨è§£å‹</p><ul><li>COPY</li></ul><p>æ‹·è´æ–‡ä»¶æˆ–ç›®å½•åˆ°å®¹å™¨ä¸­ï¼Œè·ŸADDç±»ä¼¼ï¼Œä½†ä¸å…·å¤‡è‡ªåŠ¨ä¸‹è½½æˆ–è§£å‹çš„åŠŸèƒ½</p><ul><li>ENTRYPOINT</li></ul><p>è¿è¡Œå®¹å™¨æ—¶æ‰§è¡Œçš„shellå‘½ä»¤</p><h3 id="ä½¿ç”¨-dockerfile-å®šåˆ¶centosé•œåƒ" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-dockerfile-å®šåˆ¶centosé•œåƒ" aria-hidden="true">#</a> ä½¿ç”¨ Dockerfile å®šåˆ¶Centosé•œåƒ</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216122145419.png" alt="image-20221216122145419"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216122440141.png" alt="image-20221216122440141"></p><p>DockerFileæ–‡æœ¬æ–‡ä»¶</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>FROM centos
MAINTAINER zzyy 
ENV MYPATH /usr/localWORKDIR 
$MYPATH 
<span class="token comment">#å®‰è£…vimç¼–è¾‘å™¨</span>
RUN yum <span class="token punctuation">-</span>y install vim
<span class="token comment">#å®‰è£…ifconfigå‘½ä»¤æŸ¥çœ‹ç½‘ç»œIP</span>
RUN yum <span class="token punctuation">-</span>y install net<span class="token punctuation">-</span>tools
<span class="token comment">#å®‰è£…java8åŠlibåº“</span>
RUN yum <span class="token punctuation">-</span>y install glibc.i686RUN mkdir /usr/local/java
<span class="token comment">#ADD æ˜¯ç›¸å¯¹è·¯å¾„jar,æŠŠjdk-8u171-linux-x64.tar.gzæ·»åŠ åˆ°å®¹å™¨ä¸­,å®‰è£…åŒ…å¿…é¡»è¦å’ŒDockerfileæ–‡ä»¶åœ¨åŒä¸€ä½ç½®</span>
ADD jdk<span class="token punctuation">-</span>8u171<span class="token punctuation">-</span>linux<span class="token punctuation">-</span>x64.tar.gz /usr/local/java/
<span class="token comment">#é…ç½®javaç¯å¢ƒå˜é‡</span>
ENV JAVA_HOME /usr/local/java/jdk1.8.0_171
ENV JRE_HOME $JAVA_HOME/jre
ENV CLASSPATH $JAVA_HOME/lib/dt.jar<span class="token punctuation">:</span>$JAVA_HOME/lib/tools.jar<span class="token punctuation">:</span>$JRE_HOME/lib<span class="token punctuation">:</span>$CLASSPATHENV PATH $JAVA_HOME/bin<span class="token punctuation">:</span>$PATH 
EXPOSE 80 
CMD echo $MYPATHCMD echo &quot;success<span class="token punctuation">---</span><span class="token punctuation">---</span><span class="token punctuation">---</span><span class="token punctuation">---</span><span class="token punctuation">-</span><span class="token punctuation">-</span>ok&quot;CMD /bin/bash 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å°†å¾®æœåŠ¡æ„å»ºæˆé•œåƒ" tabindex="-1"><a class="header-anchor" href="#å°†å¾®æœåŠ¡æ„å»ºæˆé•œåƒ" aria-hidden="true">#</a> å°†å¾®æœåŠ¡æ„å»ºæˆé•œåƒ</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216122148499.png" alt="image-20221216122148499"></p><p>å°†ç¼–å†™å¥½çš„å¾®æœåŠ¡æ‰“æˆjaråŒ… å‘é€è‡³Linuxä¸­çš„MyDockeræ–‡ä»¶å¤¹</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216121900159.png" alt="image-20221216121900159"></p><p>å¹¶vim Dockerfile ç¼–å†™æ„å»ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216121839375.png" alt="image-20221216121839375"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216122200324.png" alt="image-20221216122200324"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221215165944872.png" alt="image-20221215165944872"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221215174134019.png" alt="image-20221215174134019"></p><h2 id="è™šæ‚¬é•œåƒ" tabindex="-1"><a class="header-anchor" href="#è™šæ‚¬é•œåƒ" aria-hidden="true">#</a> è™šæ‚¬é•œåƒ</h2><h3 id="æŸ¥çœ‹è™šæ‚¬é•œåƒ" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹è™šæ‚¬é•œåƒ" aria-hidden="true">#</a> æŸ¥çœ‹è™šæ‚¬é•œåƒ</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker image ls -f dangling=true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="pruneæ‰è™šæ‚¬é•œåƒ" tabindex="-1"><a class="header-anchor" href="#pruneæ‰è™šæ‚¬é•œåƒ" aria-hidden="true">#</a> pruneæ‰è™šæ‚¬é•œåƒ</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker image prune
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221215173956773.png" alt="image-20221215173956773"></p><h2 id="dockeréƒ¨ç½²å®æˆ˜â˜…" tabindex="-1"><a class="header-anchor" href="#dockeréƒ¨ç½²å®æˆ˜â˜…" aria-hidden="true">#</a> Dockeréƒ¨ç½²å®æˆ˜â˜…</h2><h3 id="javaé¡¹ç›®éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#javaé¡¹ç›®éƒ¨ç½²" aria-hidden="true">#</a> Javaé¡¹ç›®éƒ¨ç½²</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216082950543.png" alt="image-20221216082950543"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216082153225.png" alt="image-20221216082153225"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216082258222.png" alt="image-20221216082258222"></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> springboot_demo1_docker:1.1 <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216082336420.png" alt="image-20221216082336420"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216082704103.png" alt="image-20221216082704103"></p><h3 id="mysqléƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#mysqléƒ¨ç½²" aria-hidden="true">#</a> MySQLéƒ¨ç½²</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dockerMetaData/mysql
<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># ls</span>
conf  Data  log

<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># docker run -d \</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> <span class="token variable">$pwd</span>/conf/my.cnf:/etc/mysql/my.cnf:rw <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> <span class="token variable">$pwd</span>/Data:/var/lib/mysql <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> <span class="token variable">$pwd</span>/log:/var/log/mysql <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">--name</span> mysql8 <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> c71276df4a87
d30f2ce80fe03301e6e69cfdce57a680c98aecbe54e9a5c9f285e2f1add58673

<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                                  NAMES
d30f2ce80fe0   c71276df4a87   <span class="token string">&quot;docker-entrypoint.sâ€¦&quot;</span>   <span class="token number">2</span> seconds ago   Up <span class="token number">2</span> seconds   <span class="token number">0.0</span>.0.0:3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, :::3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, <span class="token number">33060</span>/tcp   mysql8

<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker exec -it mysql8 /bin/bash</span>
bash-4.4<span class="token comment"># mysql -u root -p</span>
Enter password: 
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">10</span>
Server version: <span class="token number">8.0</span>.33 MySQL Community Server - GPL

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2023</span>, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">&#39;help;&#39;</span> or <span class="token string">&#39;\h&#39;</span> <span class="token keyword">for</span> help. Type <span class="token string">&#39;\c&#39;</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230609104012021.png" alt="image-20230609104012021"></p><h3 id="rediséƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#rediséƒ¨ç½²" aria-hidden="true">#</a> Rediséƒ¨ç½²</h3><blockquote><p><a href="https://raw.githubusercontent.com/redis/redis/7.0/redis.conf" target="_blank" rel="noopener noreferrer">raw.githubusercontent.com/redis/redis/7.0/redis.conf<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>æå‰å‡†å¤‡å¯¹åº”ç‰ˆæœ¬çš„ redis.conf é…ç½®æ–‡ä»¶ ç”¨äºé…ç½®å’Œå¯åŠ¨redis</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230609163444847.png" alt="image-20230609163444847"></p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># ls</span>
conf  data
<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
mysql        <span class="token number">8</span>         c71276df4a87   <span class="token number">4</span> days ago    565MB
redis        latest    0ec8ab59a35f   <span class="token number">2</span> weeks ago   117MB

<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker run -d \</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> <span class="token variable">$pwd</span>/conf/redis.conf:/etc/redis/redis.conf <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> <span class="token variable">$pwd</span>/data:/data <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">--name</span> redis 

<span class="token operator">&gt;</span> 0ec8ab59a35f <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> redis-server <span class="token variable">$pwd</span>/conf/redis.conf

<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                                  NAMES
8995fb9bbde6   0ec8ab59a35f   <span class="token string">&quot;docker-entrypoint.sâ€¦&quot;</span>   <span class="token number">3</span> seconds ago   Up <span class="token number">2</span> seconds   <span class="token number">0.0</span>.0.0:6379-<span class="token operator">&gt;</span><span class="token number">6379</span>/tcp, :::6379-<span class="token operator">&gt;</span><span class="token number">6379</span>/tcp              redis
d30f2ce80fe0   c71276df4a87   <span class="token string">&quot;docker-entrypoint.sâ€¦&quot;</span>   <span class="token number">6</span> hours ago     Up <span class="token number">6</span> hours     <span class="token number">0.0</span>.0.0:3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, :::3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, <span class="token number">33060</span>/tcp   mysql8

<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker exec -it redis /bin/bash</span>
root@8995fb9bbde6:/data<span class="token comment"># </span>

<span class="token punctuation">[</span>root@localhost redis<span class="token punctuation">]</span><span class="token comment"># docker exec -it redis redis-cli</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230609162444990.png" alt="image-20230609162444990"></p><h3 id="mqéƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#mqéƒ¨ç½²" aria-hidden="true">#</a> MQéƒ¨ç½²</h3><h3 id="nginxéƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#nginxéƒ¨ç½²" aria-hidden="true">#</a> Nginxéƒ¨ç½²</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dockerMetaData/nginx
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># ll</span>
total <span class="token number">0</span>
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> Jun <span class="token number">13</span> <span class="token number">23</span>:00 conf
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> Jun <span class="token number">13</span> <span class="token number">23</span>:01 conf.d
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> Jun <span class="token number">13</span> <span class="token number">23</span>:00 html
drwxrwxrwx. <span class="token number">2</span> root root <span class="token number">6</span> Jun <span class="token number">13</span> <span class="token number">23</span>:00 logs
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker pull nginx</span>
Using default tag: latest
latest: Pulling from library/nginx
759700526b78: Pull complete 
4fabad4a1317: Pull complete 
1150b893b52b: Pull complete 
e75fa5822000: Pull complete 
1595b4d83afa: Pull complete 
1810e754f450: Pull complete 
Digest: sha256:96b005578b567542e03c754ec1cb1dd9b1d57d5c5d4e50b8e8c59f00dfc9d99b
Status: Downloaded newer image <span class="token keyword">for</span> nginx:latest
docker.io/library/nginx:latest
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY   TAG       IMAGE ID       CREATED        SIZE
nginx        latest    7d3c40f240e1   <span class="token number">23</span> hours ago   143MB
mysql        <span class="token number">8</span>         c71276df4a87   <span class="token number">9</span> days ago     565MB
redis        latest    0ec8ab59a35f   <span class="token number">3</span> weeks ago    117MB
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker run -d --name nginx -p 80:80 nginx</span>
7c1dc4ac30b52bfa15bd77f128aa2729d4f2a6657ec1bb75b00e99e8eabfd34c
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                                  NAMES
7c1dc4ac30b5   nginx          <span class="token string">&quot;/docker-entrypoint.â€¦&quot;</span>   <span class="token number">4</span> seconds ago   Up <span class="token number">3</span> seconds   <span class="token number">0.0</span>.0.0:80-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp, :::80-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp                      nginx
d30f2ce80fe0   c71276df4a87   <span class="token string">&quot;docker-entrypoint.sâ€¦&quot;</span>   <span class="token number">5</span> days ago      Up <span class="token number">4</span> hours     <span class="token number">0.0</span>.0.0:3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, :::3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, <span class="token number">33060</span>/tcp   mysql8

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker cp nginx:/etc/nginx/nginx.conf /root/dockerMetaData/nginx/conf/nginx.conf</span>
Successfully copied <span class="token number">2</span>.56kB to /root/dockerMetaData/nginx/conf/nginx.conf
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker cp nginx:/etc/nginx/nginx.conf /root/dockerMetaData/nginx/conf/nginx.conf</span>
Successfully copied <span class="token number">2</span>.56kB to /root/dockerMetaData/nginx/conf/nginx.conf
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker cp nginx:/etc/nginx/conf.d /root/dockerMetaData/nginx/conf.d</span>
Successfully copied <span class="token number">1</span>.54kB to /root/dockerMetaData/nginx/conf.d
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker cp nginx:/usr/share/nginx/html /root/dockerMetaData/nginx/html</span>
Successfully copied <span class="token number">1</span>.54kB to /root/dockerMetaData/nginx/html

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># ls</span>
conf  conf.d  html  logs
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># cd conf</span>
<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># ls</span>
nginx.conf
<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># docker stop nginx </span>
nginx
<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># docker rm nginx </span>
nginx
<span class="token punctuation">[</span>root@localhost conf<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker run -d \</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> /root/dockerMetaData/nginx/conf/nginx.conf:/etc/nginx/nginx.conf <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> /root/dockerMetaData/nginx/conf.d:/etc/nginx/conf.d <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> /root/dockerMetaData/nginx/html:/usr/share/nginx/html <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">-v</span> /root/dockerMetaData/nginx/logs:/var/log/nginx <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> <span class="token parameter variable">--name</span> nginx <span class="token punctuation">\</span>
<span class="token operator">&gt;</span> nginx

d5b38fdc7048a5eab073bccf090c3a9e078e7e5a3413c0e1e9d5087d61f2da9d
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                                  NAMES
d5b38fdc7048   nginx          <span class="token string">&quot;/docker-entrypoint.â€¦&quot;</span>   <span class="token number">3</span> seconds ago   Up <span class="token number">3</span> seconds   <span class="token number">0.0</span>.0.0:80-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp, :::80-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp                      nginx
d30f2ce80fe0   c71276df4a87   <span class="token string">&quot;docker-entrypoint.sâ€¦&quot;</span>   <span class="token number">5</span> days ago      Up <span class="token number">5</span> hours     <span class="token number">0.0</span>.0.0:3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, :::3306-<span class="token operator">&gt;</span><span class="token number">3306</span>/tcp, <span class="token number">33060</span>/tcp   mysql8
<span class="token punctuation">[</span>root@localhost nginx<span class="token punctuation">]</span><span class="token comment"># </span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="elasticsearchéƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#elasticsearchéƒ¨ç½²" aria-hidden="true">#</a> Elasticsearchéƒ¨ç½²</h3><h2 id="docker-networkâ˜…" tabindex="-1"><a class="header-anchor" href="#docker-networkâ˜…" aria-hidden="true">#</a> Docker NetWorkâ˜…</h2><p><a href="https://www.cnblogs.com/zuxing/articles/8780661.html" target="_blank" rel="noopener noreferrer">Dockerï¼šç½‘ç»œæ¨¡å¼è¯¦è§£ - Gringer - åšå®¢å›­ (cnblogs.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216114714529.png" alt="image-20221216114714529"></p><p>å®‰è£…Dockeræ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨åˆ›å»ºä¸‰ä¸ªç½‘ç»œï¼Œbridgeï¼ˆåˆ›å»ºå®¹å™¨é»˜è®¤è¿æ¥åˆ°æ­¤ç½‘ç»œï¼‰ã€ none ã€host</p><p>hostï¼šå®¹å™¨å°†ä¸ä¼šè™šæ‹Ÿå‡ºè‡ªå·±çš„ç½‘å¡ï¼Œé…ç½®è‡ªå·±çš„IPç­‰ï¼Œè€Œæ˜¯ä½¿ç”¨å®¿ä¸»æœºçš„IPå’Œç«¯å£ã€‚</p><p>Containerï¼šåˆ›å»ºçš„å®¹å™¨ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ç½‘å¡ï¼Œé…ç½®è‡ªå·±çš„IPï¼Œè€Œæ˜¯å’Œä¸€ä¸ªæŒ‡å®šçš„å®¹å™¨å…±äº«IPã€ç«¯å£èŒƒå›´ã€‚</p><p>Noneï¼šè¯¥æ¨¡å¼å…³é—­äº†å®¹å™¨çš„ç½‘ç»œåŠŸèƒ½ã€‚</p><p>Bridgeï¼šæ­¤æ¨¡å¼ä¼šä¸ºæ¯ä¸€ä¸ªå®¹å™¨åˆ†é…ã€è®¾ç½®IPç­‰ï¼Œå¹¶å°†å®¹å™¨è¿æ¥åˆ°ä¸€ä¸ªdocker0è™šæ‹Ÿç½‘æ¡¥ï¼Œé€šè¿‡docker0ç½‘æ¡¥ä»¥åŠIptables natè¡¨é…ç½®ä¸å®¿ä¸»æœºé€šä¿¡ã€‚</p><p>ä»¥ä¸Šéƒ½æ˜¯ä¸ç”¨åŠ¨æ‰‹çš„ï¼ŒçœŸæ­£éœ€è¦é…ç½®çš„æ˜¯è‡ªå®šä¹‰ç½‘ç»œã€‚</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216115110672.png" alt="image-20221216115110672"></p><h3 id="bridgeæ¨¡å¼â˜†" tabindex="-1"><a class="header-anchor" href="#bridgeæ¨¡å¼â˜†" aria-hidden="true">#</a> Bridgeæ¨¡å¼â˜†</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216115303240.png" alt="image-20221216115303240"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216115239162.png" alt="image-20221216115239162"></p><h3 id="è‡ªå®šä¹‰æ¨¡å¼â˜†" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æ¨¡å¼â˜†" aria-hidden="true">#</a> è‡ªå®šä¹‰æ¨¡å¼â˜†</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216114853228.png" alt="image-20221216114853228"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216115556439.png" alt="image-20221216115556439"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216115539819.png" alt="image-20221216115539819"></p><h3 id="hostæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#hostæ¨¡å¼" aria-hidden="true">#</a> Hostæ¨¡å¼</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216115202752.png" alt="image-20221216115202752"></p><h3 id="containeræ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#containeræ¨¡å¼" aria-hidden="true">#</a> Containeræ¨¡å¼</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216115219706.png" alt="image-20221216115219706"></p><h3 id="noneæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#noneæ¨¡å¼" aria-hidden="true">#</a> Noneæ¨¡å¼</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216115230339.png" alt="image-20221216115230339"></p><h2 id="docker-composeâ˜…" tabindex="-1"><a class="header-anchor" href="#docker-composeâ˜…" aria-hidden="true">#</a> Docker Composeâ˜…</h2><p><a href="https://docs.docker.com/compose/install/other/" target="_blank" rel="noopener noreferrer">Install the Compose standalone | Docker Documentation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.runoob.com/docker/docker-compose.html" target="_blank" rel="noopener noreferrer">Docker Compose | èœé¸Ÿæ•™ç¨‹ (runoob.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…" aria-hidden="true">#</a> å®‰è£…</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl -SL https://github.com/docker/compose/releases/download/v2.14.0/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose

chmod +x /usr/local/bin/docker-compose

[root@192 nacos]# docker-compose version
Docker Compose version v2.14.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¸è½½" tabindex="-1"><a class="header-anchor" href="#å¸è½½" aria-hidden="true">#</a> å¸è½½</h3><p>If you used <code>curl</code> to install Compose CLI plugin, to uninstall it, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ rm $DOCKER_CONFIG/cli-plugins/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Or, if you have installed Compose for all users, run:</p><p>Remove for all users</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ rm /usr/local/lib/docker/cli-plugins/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒæ¦‚å¿µ" aria-hidden="true">#</a> æ ¸å¿ƒæ¦‚å¿µ</h3><h4 id="ä¸€ä¸ªæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªæ–‡ä»¶" aria-hidden="true">#</a> ä¸€ä¸ªæ–‡ä»¶</h4><p>docker-compose.yml</p><h4 id="ä¸¤ä¸ªè¦ç´ " tabindex="-1"><a class="header-anchor" href="#ä¸¤ä¸ªè¦ç´ " aria-hidden="true">#</a> ä¸¤ä¸ªè¦ç´ </h4><p>æœåŠ¡ï¼ˆserviceï¼‰ï¼šä¸€ä¸ªä¸ªçš„åº”ç”¨å®¹å™¨å®ä¾‹ï¼ˆmysqlå®¹å™¨/rediså®¹å™¨/nginxå®¹å™¨ï¼‰</p><p>å·¥ç¨‹ï¼ˆprojectï¼‰ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„å®Œæ•´ä¸šåŠ¡å•å…ƒåœ¨docker-compose.ymlä¸­å®šä¹‰</p><h3 id="docker-composeå¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#docker-composeå¸¸ç”¨å‘½ä»¤" aria-hidden="true">#</a> Docker-Composeå¸¸ç”¨å‘½ä»¤</h3><p>Composeå¸¸ç”¨å‘½ä»¤</p><p>docker-compose -h # æŸ¥çœ‹å¸®åŠ©</p><p><strong>docker-compose up</strong> # <strong>å¯åŠ¨</strong>æ‰€æœ‰docker-composeæœåŠ¡</p><p><strong>docker-compose up -d</strong> # <strong>å¯åŠ¨</strong>æ‰€æœ‰docker-composeæœåŠ¡å¹¶<strong>åå°è¿è¡Œ</strong></p><p>docker-compose down # åœæ­¢å¹¶åˆ é™¤å®¹å™¨ã€ç½‘ç»œã€å·ã€é•œåƒã€‚</p><p>docker-compose exec ymlé‡Œé¢çš„æœåŠ¡id # è¿›å…¥å®¹å™¨å®ä¾‹å†…éƒ¨ docker-compose exec docker-compose.ymlæ–‡ä»¶ä¸­å†™çš„æœåŠ¡id /bin/bash</p><p><strong>docker-compose ps</strong> # <strong>å±•ç¤º</strong>å½“å‰docker-composeç¼–æ’è¿‡çš„<strong>è¿è¡Œçš„æ‰€æœ‰å®¹å™¨</strong></p><p><strong>docker-compose top</strong> # <strong>å±•ç¤º</strong>å½“å‰docker-compose<strong>ç¼–æ’è¿‡çš„å®¹å™¨è¿›ç¨‹</strong></p><p><strong>docker-compose logs ymlé‡Œé¢çš„æœåŠ¡id</strong> # <strong>æŸ¥çœ‹å®¹å™¨è¾“å‡ºæ—¥å¿—</strong></p><p>docker-compose config # æ£€æŸ¥é…ç½®</p><p><strong>docker-compose config -q</strong> # <strong>æ£€æŸ¥é…ç½®ï¼Œæœ‰é—®é¢˜æ‰æœ‰è¾“å‡º</strong></p><p><strong>docker-compose restart</strong> # <strong>é‡å¯</strong>æœåŠ¡</p><p><strong>docker-compose start</strong> # <strong>å¯åŠ¨</strong>æœåŠ¡</p><p><strong>docker-compose stop</strong> # <strong>åœæ­¢</strong>æœåŠ¡</p><h3 id="docker-compose-ymlé…ç½®æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#docker-compose-ymlé…ç½®æŒ‡ä»¤" aria-hidden="true">#</a> docker-compose.ymlé…ç½®æŒ‡ä»¤</h3><p><strong>version</strong></p><p>æŒ‡å®šæœ¬ yml ä¾ä»çš„ compose å“ªä¸ªç‰ˆæœ¬åˆ¶å®šçš„ã€‚</p><p><strong>build</strong></p><p>æŒ‡å®šä¸ºæ„å»ºé•œåƒä¸Šä¸‹æ–‡è·¯å¾„ï¼š</p><p>ä¾‹å¦‚ webapp æœåŠ¡ï¼ŒæŒ‡å®šä¸ºä»ä¸Šä¸‹æ–‡è·¯å¾„ ./dir/Dockerfile æ‰€æ„å»ºçš„é•œåƒï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>version: &quot;3.7&quot;
services:
  webapp:
    build: ./dir
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…ï¼Œä½œä¸ºå…·æœ‰åœ¨ä¸Šä¸‹æ–‡æŒ‡å®šçš„è·¯å¾„çš„å¯¹è±¡ï¼Œä»¥åŠå¯é€‰çš„ Dockerfile å’Œ argsï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>version: &quot;3.7&quot;
services:
  webapp:
    build:
      context: ./dir
      dockerfile: Dockerfile-alternate
      args:
        buildno: 1
      labels:
        - &quot;com.example.description=Accounting webapp&quot;
        - &quot;com.example.department=Finance&quot;
        - &quot;com.example.label-with-empty-value&quot;
      target: prod
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>contextï¼šä¸Šä¸‹æ–‡è·¯å¾„ã€‚</li><li>dockerfileï¼šæŒ‡å®šæ„å»ºé•œåƒçš„ Dockerfile æ–‡ä»¶åã€‚</li><li>argsï¼šæ·»åŠ æ„å»ºå‚æ•°ï¼Œè¿™æ˜¯åªèƒ½åœ¨æ„å»ºè¿‡ç¨‹ä¸­è®¿é—®çš„ç¯å¢ƒå˜é‡ã€‚</li><li>labelsï¼šè®¾ç½®æ„å»ºé•œåƒçš„æ ‡ç­¾ã€‚</li><li>targetï¼šå¤šå±‚æ„å»ºï¼Œå¯ä»¥æŒ‡å®šæ„å»ºå“ªä¸€å±‚ã€‚</li></ul><p><strong>cap_addï¼Œcap_drop</strong></p><p>æ·»åŠ æˆ–åˆ é™¤å®¹å™¨æ‹¥æœ‰çš„å®¿ä¸»æœºçš„å†…æ ¸åŠŸèƒ½ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cap_add:
  - ALL # å¼€å¯å…¨éƒ¨æƒé™

cap_drop:
  - SYS_PTRACE # å…³é—­ ptraceæƒé™
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>cgroup_parent</strong></p><p>ä¸ºå®¹å™¨æŒ‡å®šçˆ¶ cgroup ç»„ï¼Œæ„å‘³ç€å°†ç»§æ‰¿è¯¥ç»„çš„èµ„æºé™åˆ¶ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cgroup_parent: m-executor-abcd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>command</strong></p><p>è¦†ç›–å®¹å™¨å¯åŠ¨çš„é»˜è®¤å‘½ä»¤ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>command: [&quot;bundle&quot;, &quot;exec&quot;, &quot;thin&quot;, &quot;-p&quot;, &quot;3000&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>container_name</strong></p><p>æŒ‡å®šè‡ªå®šä¹‰å®¹å™¨åç§°ï¼Œè€Œä¸æ˜¯ç”Ÿæˆçš„é»˜è®¤åç§°ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>container_name: my-web-container
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>depends_on</strong></p><p>è®¾ç½®ä¾èµ–å…³ç³»ã€‚</p><ul><li>docker-compose up ï¼šä»¥ä¾èµ–æ€§é¡ºåºå¯åŠ¨æœåŠ¡ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå…ˆå¯åŠ¨ db å’Œ redis ï¼Œæ‰ä¼šå¯åŠ¨ webã€‚</li><li>docker-compose up SERVICE ï¼šè‡ªåŠ¨åŒ…å« SERVICE çš„ä¾èµ–é¡¹ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œdocker-compose up web è¿˜å°†åˆ›å»ºå¹¶å¯åŠ¨ db å’Œ redisã€‚</li><li>docker-compose stop ï¼šæŒ‰ä¾èµ–å…³ç³»é¡ºåºåœæ­¢æœåŠ¡ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œweb åœ¨ db å’Œ redis ä¹‹å‰åœæ­¢ã€‚</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>version: &quot;3.7&quot;
services:
  web:
    build: .
    depends_on:
      - db
      - redis
  redis:
    image: redis
  db:
    image: postgres
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼šweb æœåŠ¡ä¸ä¼šç­‰å¾… redis db å®Œå…¨å¯åŠ¨ ä¹‹åæ‰å¯åŠ¨ã€‚</p><p><strong>deploy</strong></p><p>æŒ‡å®šä¸æœåŠ¡çš„éƒ¨ç½²å’Œè¿è¡Œæœ‰å…³çš„é…ç½®ã€‚åªåœ¨ swarm æ¨¡å¼ä¸‹æ‰ä¼šæœ‰ç”¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>version: &quot;3.7&quot;
services:
  redis:
    image: redis:alpine
    deploy:
      modeï¼šreplicated
      replicas: 6
      endpoint_mode: dnsrr
      labels: 
        description: &quot;This redis service label&quot;
      resources:
        limits:
          cpus: &#39;0.50&#39;
          memory: 50M
        reservations:
          cpus: &#39;0.25&#39;
          memory: 20M
      restart_policy:
        condition: on-failure
        delay: 5s
        max_attempts: 3
        window: 120s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥é€‰å‚æ•°ï¼š</p><p><strong>endpoint_mode</strong>ï¼šè®¿é—®é›†ç¾¤æœåŠ¡çš„æ–¹å¼ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>endpoint_mode: vip 
# Docker é›†ç¾¤æœåŠ¡ä¸€ä¸ªå¯¹å¤–çš„è™šæ‹Ÿ ipã€‚æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šé€šè¿‡è¿™ä¸ªè™šæ‹Ÿ ip åˆ°è¾¾é›†ç¾¤æœåŠ¡å†…éƒ¨çš„æœºå™¨ã€‚
endpoint_mode: dnsrr
# DNS è½®è¯¢ï¼ˆDNSRRï¼‰ã€‚æ‰€æœ‰çš„è¯·æ±‚ä¼šè‡ªåŠ¨è½®è¯¢è·å–åˆ°é›†ç¾¤ ip åˆ—è¡¨ä¸­çš„ä¸€ä¸ª ip åœ°å€ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>labels</strong>ï¼šåœ¨æœåŠ¡ä¸Šè®¾ç½®æ ‡ç­¾ã€‚å¯ä»¥ç”¨å®¹å™¨ä¸Šçš„ labelsï¼ˆè·Ÿ deploy åŒçº§çš„é…ç½®ï¼‰ è¦†ç›– deploy ä¸‹çš„ labelsã€‚</p><p><strong>mode</strong>ï¼šæŒ‡å®šæœåŠ¡æä¾›çš„æ¨¡å¼ã€‚</p><ul><li><p><strong>replicated</strong>ï¼šå¤åˆ¶æœåŠ¡ï¼Œå¤åˆ¶æŒ‡å®šæœåŠ¡åˆ°é›†ç¾¤çš„æœºå™¨ä¸Šã€‚</p></li><li><p><strong>global</strong>ï¼šå…¨å±€æœåŠ¡ï¼ŒæœåŠ¡å°†éƒ¨ç½²è‡³é›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚</p></li><li><p>å›¾è§£ï¼šä¸‹å›¾ä¸­é»„è‰²çš„æ–¹å—æ˜¯ replicated æ¨¡å¼çš„è¿è¡Œæƒ…å†µï¼Œç°è‰²æ–¹å—æ˜¯ global æ¨¡å¼çš„è¿è¡Œæƒ…å†µã€‚</p><p><img src="https://www.runoob.com/wp-content/uploads/2019/11/docker-composex.png" alt="img"></p></li></ul><p><strong>replicasï¼šmode</strong> ä¸º replicated æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ­¤å‚æ•°é…ç½®å…·ä½“è¿è¡Œçš„èŠ‚ç‚¹æ•°é‡ã€‚</p><p><strong>resources</strong>ï¼šé…ç½®æœåŠ¡å™¨èµ„æºä½¿ç”¨çš„é™åˆ¶ï¼Œä¾‹å¦‚ä¸Šä¾‹å­ï¼Œé…ç½® redis é›†ç¾¤è¿è¡Œéœ€è¦çš„ cpu çš„ç™¾åˆ†æ¯” å’Œ å†…å­˜çš„å ç”¨ã€‚é¿å…å ç”¨èµ„æºè¿‡é«˜å‡ºç°å¼‚å¸¸ã€‚</p><p><strong>restart_policy</strong>ï¼šé…ç½®å¦‚ä½•åœ¨é€€å‡ºå®¹å™¨æ—¶é‡æ–°å¯åŠ¨å®¹å™¨ã€‚</p><ul><li>conditionï¼šå¯é€‰ noneï¼Œon-failure æˆ–è€… anyï¼ˆé»˜è®¤å€¼ï¼šanyï¼‰ã€‚</li><li>delayï¼šè®¾ç½®å¤šä¹…ä¹‹åé‡å¯ï¼ˆé»˜è®¤å€¼ï¼š0ï¼‰ã€‚</li><li>max_attemptsï¼šå°è¯•é‡æ–°å¯åŠ¨å®¹å™¨çš„æ¬¡æ•°ï¼Œè¶…å‡ºæ¬¡æ•°ï¼Œåˆ™ä¸å†å°è¯•ï¼ˆé»˜è®¤å€¼ï¼šä¸€ç›´é‡è¯•ï¼‰ã€‚</li><li>windowï¼šè®¾ç½®å®¹å™¨é‡å¯è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤å€¼ï¼š0ï¼‰ã€‚</li></ul><p><strong>rollback_config</strong>ï¼šé…ç½®åœ¨æ›´æ–°å¤±è´¥çš„æƒ…å†µä¸‹åº”å¦‚ä½•å›æ»šæœåŠ¡ã€‚</p><ul><li>parallelismï¼šä¸€æ¬¡è¦å›æ»šçš„å®¹å™¨æ•°ã€‚å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™æ‰€æœ‰å®¹å™¨å°†åŒæ—¶å›æ»šã€‚</li><li>delayï¼šæ¯ä¸ªå®¹å™¨ç»„å›æ»šä¹‹é—´ç­‰å¾…çš„æ—¶é—´ï¼ˆé»˜è®¤ä¸º0sï¼‰ã€‚</li><li>failure_actionï¼šå¦‚æœå›æ»šå¤±è´¥ï¼Œè¯¥æ€ä¹ˆåŠã€‚å…¶ä¸­ä¸€ä¸ª continue æˆ–è€… pauseï¼ˆé»˜è®¤pauseï¼‰ã€‚</li><li>monitorï¼šæ¯ä¸ªå®¹å™¨æ›´æ–°åï¼ŒæŒç»­è§‚å¯Ÿæ˜¯å¦å¤±è´¥äº†çš„æ—¶é—´ (ns|us|ms|s|m|h)ï¼ˆé»˜è®¤ä¸º0sï¼‰ã€‚</li><li>max_failure_ratioï¼šåœ¨å›æ»šæœŸé—´å¯ä»¥å®¹å¿çš„æ•…éšœç‡ï¼ˆé»˜è®¤ä¸º0ï¼‰ã€‚</li><li>orderï¼šå›æ»šæœŸé—´çš„æ“ä½œé¡ºåºã€‚å…¶ä¸­ä¸€ä¸ª stop-firstï¼ˆä¸²è¡Œå›æ»šï¼‰ï¼Œæˆ–è€… start-firstï¼ˆå¹¶è¡Œå›æ»šï¼‰ï¼ˆé»˜è®¤ stop-first ï¼‰ã€‚</li></ul><p><strong>update_config</strong>ï¼šé…ç½®åº”å¦‚ä½•æ›´æ–°æœåŠ¡ï¼Œå¯¹äºé…ç½®æ»šåŠ¨æ›´æ–°å¾ˆæœ‰ç”¨ã€‚</p><ul><li>parallelismï¼šä¸€æ¬¡æ›´æ–°çš„å®¹å™¨æ•°ã€‚</li><li>delayï¼šåœ¨æ›´æ–°ä¸€ç»„å®¹å™¨ä¹‹é—´ç­‰å¾…çš„æ—¶é—´ã€‚</li><li>failure_actionï¼šå¦‚æœæ›´æ–°å¤±è´¥ï¼Œè¯¥æ€ä¹ˆåŠã€‚å…¶ä¸­ä¸€ä¸ª continueï¼Œrollback æˆ–è€…pause ï¼ˆé»˜è®¤ï¼špauseï¼‰ã€‚</li><li>monitorï¼šæ¯ä¸ªå®¹å™¨æ›´æ–°åï¼ŒæŒç»­è§‚å¯Ÿæ˜¯å¦å¤±è´¥äº†çš„æ—¶é—´ (ns|us|ms|s|m|h)ï¼ˆé»˜è®¤ä¸º0sï¼‰ã€‚</li><li>max_failure_ratioï¼šåœ¨æ›´æ–°è¿‡ç¨‹ä¸­å¯ä»¥å®¹å¿çš„æ•…éšœç‡ã€‚</li><li>orderï¼šå›æ»šæœŸé—´çš„æ“ä½œé¡ºåºã€‚å…¶ä¸­ä¸€ä¸ª stop-firstï¼ˆä¸²è¡Œå›æ»šï¼‰ï¼Œæˆ–è€… start-firstï¼ˆå¹¶è¡Œå›æ»šï¼‰ï¼ˆé»˜è®¤stop-firstï¼‰ã€‚</li></ul><p><strong>æ³¨</strong>ï¼šä»…æ”¯æŒ V3.4 åŠæ›´é«˜ç‰ˆæœ¬ã€‚</p><p><strong>devices</strong></p><p>æŒ‡å®šè®¾å¤‡æ˜ å°„åˆ—è¡¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>devices:
  - &quot;/dev/ttyUSB0:/dev/ttyUSB0&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>dns</strong></p><p>è‡ªå®šä¹‰ DNS æœåŠ¡å™¨ï¼Œå¯ä»¥æ˜¯å•ä¸ªå€¼æˆ–åˆ—è¡¨çš„å¤šä¸ªå€¼ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>dns: 8.8.8.8

dns:
  - 8.8.8.8
  - 9.9.9.9
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>dns_search</strong></p><p>è‡ªå®šä¹‰ DNS æœç´¢åŸŸã€‚å¯ä»¥æ˜¯å•ä¸ªå€¼æˆ–åˆ—è¡¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>dns_search: example.com

dns_search:
  - dc1.example.com
  - dc2.example.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>entrypoint</strong></p><p>è¦†ç›–å®¹å™¨é»˜è®¤çš„ entrypointã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>entrypoint: /code/entrypoint.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥æ˜¯ä»¥ä¸‹æ ¼å¼ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>entrypoint:
    - php
    - -d
    - zend_extension=/usr/local/lib/php/extensions/no-debug-non-zts-20100525/xdebug.so
    - -d
    - memory_limit=-1
    - vendor/bin/phpunit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>env_file</strong></p><p>ä»æ–‡ä»¶æ·»åŠ ç¯å¢ƒå˜é‡ã€‚å¯ä»¥æ˜¯å•ä¸ªå€¼æˆ–åˆ—è¡¨çš„å¤šä¸ªå€¼ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>env_file: .env
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥æ˜¯åˆ—è¡¨æ ¼å¼ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>env_file:
  - ./common.env
  - ./apps/web.env
  - /opt/secrets.env
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>environment</strong></p><p>æ·»åŠ ç¯å¢ƒå˜é‡ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸ã€ä»»ä½•å¸ƒå°”å€¼ï¼Œå¸ƒå°”å€¼éœ€è¦ç”¨å¼•å·å¼•èµ·æ¥ï¼Œä»¥ç¡®ä¿ YML è§£æå™¨ä¸ä¼šå°†å…¶è½¬æ¢ä¸º True æˆ– Falseã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>environment:
  RACK_ENV: development
  SHOW: &#39;true&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>expose</strong></p><p>æš´éœ²ç«¯å£ï¼Œä½†ä¸æ˜ å°„åˆ°å®¿ä¸»æœºï¼Œåªè¢«è¿æ¥çš„æœåŠ¡è®¿é—®ã€‚</p><p>ä»…å¯ä»¥æŒ‡å®šå†…éƒ¨ç«¯å£ä¸ºå‚æ•°ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>expose:
 - &quot;3000&quot;
 - &quot;8000&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>extra_hosts</strong></p><p>æ·»åŠ ä¸»æœºåæ˜ å°„ã€‚ç±»ä¼¼ docker client --add-hostã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>extra_hosts:
 - &quot;somehost:162.242.195.82&quot;
 - &quot;otherhost:50.31.209.229&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Šä¼šåœ¨æ­¤æœåŠ¡çš„å†…éƒ¨å®¹å™¨ä¸­ /etc/hosts åˆ›å»ºä¸€ä¸ªå…·æœ‰ ip åœ°å€å’Œä¸»æœºåçš„æ˜ å°„å…³ç³»ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>162.242.195.82  somehost
50.31.209.229   otherhost
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>healthcheck</strong></p><p>ç”¨äºæ£€æµ‹ docker æœåŠ¡æ˜¯å¦å¥åº·è¿è¡Œã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>healthcheck:
  test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost&quot;] # è®¾ç½®æ£€æµ‹ç¨‹åº
  interval: 1m30s # è®¾ç½®æ£€æµ‹é—´éš”
  timeout: 10s # è®¾ç½®æ£€æµ‹è¶…æ—¶æ—¶é—´
  retries: 3 # è®¾ç½®é‡è¯•æ¬¡æ•°
  start_period: 40s # å¯åŠ¨åï¼Œå¤šå°‘ç§’å¼€å§‹å¯åŠ¨æ£€æµ‹ç¨‹åº
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>image</strong></p><p>æŒ‡å®šå®¹å™¨è¿è¡Œçš„é•œåƒã€‚ä»¥ä¸‹æ ¼å¼éƒ½å¯ä»¥ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>image: redis
image: ubuntu:14.04
image: tutum/influxdb
image: example-registry.com:4000/postgresql
image: a4bc65fd # é•œåƒid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>logging</strong></p><p>æœåŠ¡çš„æ—¥å¿—è®°å½•é…ç½®ã€‚</p><p>driverï¼šæŒ‡å®šæœåŠ¡å®¹å™¨çš„æ—¥å¿—è®°å½•é©±åŠ¨ç¨‹åºï¼Œé»˜è®¤å€¼ä¸ºjson-fileã€‚æœ‰ä»¥ä¸‹ä¸‰ä¸ªé€‰é¡¹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>driver: &quot;json-file&quot;
driver: &quot;syslog&quot;
driver: &quot;none&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»…åœ¨ json-file é©±åŠ¨ç¨‹åºä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‚æ•°ï¼Œé™åˆ¶æ—¥å¿—å¾—æ•°é‡å’Œå¤§å°ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>logging:
  driver: json-file
  options:
    max-size: &quot;200k&quot; # å•ä¸ªæ–‡ä»¶å¤§å°ä¸º200k
    max-file: &quot;10&quot; # æœ€å¤š10ä¸ªæ–‡ä»¶
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“è¾¾åˆ°æ–‡ä»¶é™åˆ¶ä¸Šé™ï¼Œä¼šè‡ªåŠ¨åˆ é™¤æ—§å¾—æ–‡ä»¶ã€‚</p><p>syslog é©±åŠ¨ç¨‹åºä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ syslog-address æŒ‡å®šæ—¥å¿—æ¥æ”¶åœ°å€ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>logging:
  driver: syslog
  options:
    syslog-address: &quot;tcp://192.168.0.42:123&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>network_mode</strong></p><p>è®¾ç½®ç½‘ç»œæ¨¡å¼ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>network_mode: &quot;bridge&quot;
network_mode: &quot;host&quot;
network_mode: &quot;none&quot;
network_mode: &quot;service:[service name]&quot;
network_mode: &quot;container:[container name/id]&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>networks</strong></p><p>é…ç½®å®¹å™¨è¿æ¥çš„ç½‘ç»œï¼Œå¼•ç”¨é¡¶çº§ networks ä¸‹çš„æ¡ç›® ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>services:
  some-service:
    networks:
      some-network:
        aliases:
         - alias1
      other-network:
        aliases:
         - alias2
networks:
  some-network:
    # Use a custom driver
    driver: custom-driver-1
  other-network:
    # Use a custom driver which takes special options
    driver: custom-driver-2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>aliases</strong> ï¼šåŒä¸€ç½‘ç»œä¸Šçš„å…¶ä»–å®¹å™¨å¯ä»¥ä½¿ç”¨æœåŠ¡åç§°æˆ–æ­¤åˆ«åæ¥è¿æ¥åˆ°å¯¹åº”å®¹å™¨çš„æœåŠ¡ã€‚</p><p><strong>restart</strong></p><ul><li>noï¼šæ˜¯é»˜è®¤çš„é‡å¯ç­–ç•¥ï¼Œåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸ä¼šé‡å¯å®¹å™¨ã€‚</li><li>alwaysï¼šå®¹å™¨æ€»æ˜¯é‡æ–°å¯åŠ¨ã€‚</li><li>on-failureï¼šåœ¨å®¹å™¨éæ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€é0ï¼‰ï¼Œæ‰ä¼šé‡å¯å®¹å™¨ã€‚</li><li>unless-stoppedï¼šåœ¨å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯å®¹å™¨ï¼Œä½†æ˜¯ä¸è€ƒè™‘åœ¨Dockerå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨æ—¶å°±å·²ç»åœæ­¢äº†çš„å®¹å™¨</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>restart: &quot;no&quot;
restart: always
restart: on-failure
restart: unless-stopped
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨ï¼šswarm é›†ç¾¤æ¨¡å¼ï¼Œè¯·æ”¹ç”¨ restart_policyã€‚</p><p><strong>secrets</strong></p><p>å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼Œä¾‹å¦‚å¯†ç ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>version: &quot;3.1&quot;
services:

mysql:
  image: mysql
  environment:
    MYSQL_ROOT_PASSWORD_FILE: /run/secrets/my_secret
  secrets:
    - my_secret

secrets:
  my_secret:
    file: ./my_secret.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>security_opt</strong></p><p>ä¿®æ”¹å®¹å™¨é»˜è®¤çš„ schema æ ‡ç­¾ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>security-optï¼š
  - label:user:USER   # è®¾ç½®å®¹å™¨çš„ç”¨æˆ·æ ‡ç­¾
  - label:role:ROLE   # è®¾ç½®å®¹å™¨çš„è§’è‰²æ ‡ç­¾
  - label:type:TYPE   # è®¾ç½®å®¹å™¨çš„å®‰å…¨ç­–ç•¥æ ‡ç­¾
  - label:level:LEVEL  # è®¾ç½®å®¹å™¨çš„å®‰å…¨ç­‰çº§æ ‡ç­¾
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>stop_grace_period</strong></p><p>æŒ‡å®šåœ¨å®¹å™¨æ— æ³•å¤„ç† SIGTERM (æˆ–è€…ä»»ä½• stop_signal çš„ä¿¡å·)ï¼Œç­‰å¾…å¤šä¹…åå‘é€ SIGKILL ä¿¡å·å…³é—­å®¹å™¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>stop_grace_period: 1s # ç­‰å¾… 1 ç§’
stop_grace_period: 1m30s # ç­‰å¾… 1 åˆ† 30 ç§’ 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤çš„ç­‰å¾…æ—¶é—´æ˜¯ 10 ç§’ã€‚</p><p><strong>stop_signal</strong></p><p>è®¾ç½®åœæ­¢å®¹å™¨çš„æ›¿ä»£ä¿¡å·ã€‚é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨ SIGTERM ã€‚</p><p>ä»¥ä¸‹ç¤ºä¾‹ï¼Œä½¿ç”¨ SIGUSR1 æ›¿ä»£ä¿¡å· SIGTERM æ¥åœæ­¢å®¹å™¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>stop_signal: SIGUSR1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>sysctls</strong></p><p>è®¾ç½®å®¹å™¨ä¸­çš„å†…æ ¸å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸æ ¼å¼ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sysctls:
  net.core.somaxconn: 1024
  net.ipv4.tcp_syncookies: 0

sysctls:
  - net.core.somaxconn=1024
  - net.ipv4.tcp_syncookies=0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>tmpfs</strong></p><p>åœ¨å®¹å™¨å†…å®‰è£…ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿã€‚å¯ä»¥æ˜¯å•ä¸ªå€¼æˆ–åˆ—è¡¨çš„å¤šä¸ªå€¼ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tmpfs: /run

tmpfs:
  - /run
  - /tmp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ulimits</strong></p><p>è¦†ç›–å®¹å™¨é»˜è®¤çš„ ulimitã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ulimits:
  nproc: 65535
  nofile:
    soft: 20000
    hard: 40000
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>volumes</strong></p><p>å°†ä¸»æœºçš„æ•°æ®å·æˆ–ç€æ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨é‡Œã€‚</p><div class="language-version line-numbers-mode" data-ext="version"><pre class="language-version"><code>version: &quot;3.7&quot;
services:
  db:
    image: postgres:latest
    volumes:
      - &quot;/localhost/postgres.sock:/var/run/postgres/postgres.sock&quot;
      - &quot;/localhost/data:/var/lib/postgresql/data&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿è¡Œå®ä¾‹" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œå®ä¾‹" aria-hidden="true">#</a> è¿è¡Œå®ä¾‹</h3><p><strong>1ï¼‰å°†è‡ªå·±çš„å¾®æœåŠ¡é¡¹ç›®é€šè¿‡Dockerfileçš„å½¢å¼æ„å»ºæˆé•œåƒ</strong></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216120523673.png" alt="image-20221216120523673"></p><p><strong>2ï¼‰ç¼–å†™docker-compose.ymlæ–‡ä»¶</strong></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216120316245.png" alt="image-20221216120316245"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216120358566.png" alt="image-20221216120358566"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216120550430.png" alt="image-20221216120550430"></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span> 
  <span class="token key atrule">microservice</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> springboot_demo1_docker<span class="token punctuation">:</span><span class="token number">1.1</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> ms01
    <span class="token key atrule">ports</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> <span class="token string">&quot;6001:6001&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> eddie_net
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis
      <span class="token punctuation">-</span> mysql

  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> redis_compose
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;6379:6379&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /mydata/redis_compose/data<span class="token punctuation">:</span>/data
      <span class="token punctuation">-</span> /mydata/redis_compose/conf/redis.conf<span class="token punctuation">:</span>/etc/redis/redis.conf
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> eddie_net
    <span class="token key atrule">command</span><span class="token punctuation">:</span> redis<span class="token punctuation">-</span>server /etc/redis/redis.conf

  <span class="token key atrule">mysql</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span>8.0.18
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql_compose
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">&#39;root&#39;</span>
      <span class="token key atrule">MYSQL_ALLOW_EMPLY_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">&#39;no&#39;</span>
      <span class="token key atrule">MYSQL_DATABASE</span><span class="token punctuation">:</span> <span class="token string">&#39;db2021&#39;</span>
      <span class="token key atrule">MYSQL_USER</span><span class="token punctuation">:</span> <span class="token string">&#39;eddie&#39;</span>
      <span class="token key atrule">MYSQL_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">&#39;eddie&#39;</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;3306:3306&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /mydata/mysql_compose/log<span class="token punctuation">:</span>/var/log/mysql
      <span class="token punctuation">-</span> /mydata/mysql_compose/data<span class="token punctuation">:</span>/var/lib/mysql
      <span class="token punctuation">-</span> /mydata/mysql_compose/conf<span class="token punctuation">:</span>/var/etc/mysql
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> eddie_net
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>default<span class="token punctuation">-</span>authentication<span class="token punctuation">-</span>plugin=mysql_native_password <span class="token comment">#è§£å†³å¤–éƒ¨æ— æ³•è®¿é—®</span>

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
    <span class="token key atrule">eddie_net</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3ï¼‰å¯åŠ¨docker-composeæœåŠ¡</strong></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216120618059.png" alt="image-20221216120618059"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216120643441.png" alt="image-20221216120643441"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20221216120818682.png" alt="image-20221216120818682"></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/EddieZturbo/Eddie-Tech-Blog.github.io/edit/main/docs/backend/tools/Docker.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><nav class="page-nav"><!----><a href="/backend/tools/Git.html" class="nav-link next" aria-label="Git"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Git<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Default footer</div><div class="copyright">Copyright Â© 2023 EddieZ</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-7117916c.js" defer></script>
  </body>
</html>
