<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/backend/skills/ComputerNetwork.html"><meta property="og:site_name" content="Eddie-Tech-Blog"><meta property="og:title" content="Computer Network"><meta property="og:description" content="OSI 和 TCP/IP 网络分层模型 OSI 七层模型 OSI(Open System Interconnect Reference Model)七层模型是一个通信协议的分层模型 1. 物理层（Physical Layer）：负责在物理媒介（如电缆、光纤等）上传输原始的比特流，提供物理连接和电气特性等功能。 传输数据类型：比特流（0和1）。 ..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Computer Network","image":[""],"dateModified":null,"author":[]}</script><title>Computer Network | Eddie-Tech-Blog</title><meta name="description" content="OSI 和 TCP/IP 网络分层模型 OSI 七层模型 OSI(Open System Interconnect Reference Model)七层模型是一个通信协议的分层模型 1. 物理层（Physical Layer）：负责在物理媒介（如电缆、光纤等）上传输原始的比特流，提供物理连接和电气特性等功能。 传输数据类型：比特流（0和1）。 ...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-71862533.css" as="style"><link rel="stylesheet" href="/assets/style-71862533.css">
    <link rel="modulepreload" href="/assets/app-7117916c.js"><link rel="modulepreload" href="/assets/framework-e28ace55.js"><link rel="modulepreload" href="/assets/ComputerNetwork.html-b565b21b.js"><link rel="modulepreload" href="/assets/ComputerNetwork.html-01668e3b.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="Eddie-Tech-Blog"><!----><span class="site-name hide-in-pad">Eddie-Tech-Blog</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="Home"><span class="font-icon icon iconfont icon-home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/eddie/" class="nav-link" aria-label="Expoler"><span class="font-icon icon iconfont icon-discover" style=""></span>Expoler<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Backend-Dev"><span class="title"><span class="font-icon icon iconfont icon-edit" style=""></span>Backend-Dev</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/java/jvm.html" class="nav-link" aria-label="JVM"><span class="font-icon icon iconfont icon-edit" style=""></span>JVM<!----></a></li><li class="dropdown-subitem"><a href="/backend/java/java8.html" class="nav-link" aria-label="Java8"><span class="font-icon icon iconfont icon-edit" style=""></span>Java8<!----></a></li><li class="dropdown-subitem"><a href="/backend/java/java_concurrency_programming.html" class="nav-link" aria-label="Java Concurrency Programming"><span class="font-icon icon iconfont icon-edit" style=""></span>Java Concurrency Programming<!----></a></li><li class="dropdown-subitem"><a href="/backend/java/Java.html" class="nav-link" aria-label="Java"><span class="font-icon icon iconfont icon-edit" style=""></span>Java<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Database</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/database/mysql.html" class="nav-link" aria-label="MySQL  Basic --- advanced"><span class="font-icon icon iconfont icon-edit" style=""></span>MySQL  Basic --- advanced<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Dev-FrameWork</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/dev_framework/SpringBoot.html" class="nav-link" aria-label="Spring Boot"><span class="font-icon icon iconfont icon-edit" style=""></span>Spring Boot<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/SpringMVC.html" class="nav-link" aria-label="SpringMVC"><span class="font-icon icon iconfont icon-edit" style=""></span>SpringMVC<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/Spring5.html" class="nav-link" aria-label="Spring5"><span class="font-icon icon iconfont icon-edit" style=""></span>Spring5<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/Mybatis.html" class="nav-link" aria-label="Mybatis"><span class="font-icon icon iconfont icon-edit" style=""></span>Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/MybatisPlus.html" class="nav-link" aria-label="MybatisPlus"><span class="font-icon icon iconfont icon-edit" style=""></span>MybatisPlus<!----></a></li><li class="dropdown-subitem"><a href="/backend/dev_framework/SpringCloud.html" class="nav-link" aria-label="SpringCloud &amp; ~Aibaba"><span class="font-icon icon iconfont icon-edit" style=""></span>SpringCloud &amp; ~Aibaba<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Middleware</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/middleware/MQ.html" class="nav-link" aria-label="MQ"><span class="font-icon icon iconfont icon-edit" style=""></span>MQ<!----></a></li><li class="dropdown-subitem"><a href="/backend/middleware/Redis.html" class="nav-link" aria-label="Redis"><span class="font-icon icon iconfont icon-edit" style=""></span>Redis<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Skills</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/skills/DataStructureAlgorithm.html" class="nav-link" aria-label="DataStructureAlgorithm"><span class="font-icon icon iconfont icon-edit" style=""></span>DataStructureAlgorithm<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/backend/skills/ComputerNetwork.html" class="router-link-active router-link-exact-active nav-link active" aria-label="ComputerNetwork"><span class="font-icon icon iconfont icon-edit" style=""></span>ComputerNetwork<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/OperatingSystem.html" class="nav-link" aria-label="OperatingSystem"><span class="font-icon icon iconfont icon-edit" style=""></span>OperatingSystem<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Methodology.html" class="nav-link" aria-label="Methodology"><span class="font-icon icon iconfont icon-edit" style=""></span>Methodology<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/IO.html" class="nav-link" aria-label="IO"><span class="font-icon icon iconfont icon-edit" style=""></span>IO<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Netty.html" class="nav-link" aria-label="Netty"><span class="font-icon icon iconfont icon-edit" style=""></span>Netty<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Linux.html" class="nav-link" aria-label="Linux"><span class="font-icon icon iconfont icon-edit" style=""></span>Linux<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Dubbo.html" class="nav-link" aria-label="Dubbo"><span class="font-icon icon iconfont icon-edit" style=""></span>Dubbo<!----></a></li><li class="dropdown-subitem"><a href="/backend/skills/Zookeeper.html" class="nav-link" aria-label="Zookeeper"><span class="font-icon icon iconfont icon-edit" style=""></span>Zookeeper<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Tools</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/tools/Docker.html" class="nav-link" aria-label="Docker"><span class="font-icon icon iconfont icon-edit" style=""></span>Docker<!----></a></li><li class="dropdown-subitem"><a href="/backend/tools/Git.html" class="nav-link" aria-label="Git"><span class="font-icon icon iconfont icon-edit" style=""></span>Git<!----></a></li><li class="dropdown-subitem"><a href="/backend/tools/Maven.html" class="nav-link" aria-label="Maven"><span class="font-icon icon iconfont icon-edit" style=""></span>Maven<!----></a></li><li class="dropdown-subitem"><a href="/backend/tools/Nginx.html" class="nav-link" aria-label="Nginx"><span class="font-icon icon iconfont icon-edit" style=""></span>Nginx<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/article-papper/" class="nav-link" aria-label="Article &amp; Papper"><span class="font-icon icon iconfont icon-note" style=""></span>Article &amp; Papper<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/EddieZturbo/Eddie-Tech-Blog.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="Home"><span class="font-icon icon iconfont icon-home" style=""></span>Home<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-discover" style=""></span><a href="/eddie/" class="title">Eddie</a><!----></p><ul class="sidebar-links"></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><span class="font-icon icon iconfont icon-note" style=""></span><span class="title">Backend-Dev</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Database</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Dev Framework</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Middleware</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">Skills</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/backend/skills/ComputerNetwork.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Computer Network"><!---->Computer Network<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#osi-和-tcp-ip-网络分层模型" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="OSI 和 TCP/IP 网络分层模型"><!---->OSI 和 TCP/IP 网络分层模型<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#osi-七层模型" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="OSI 七层模型"><!---->OSI 七层模型<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-ip四层模型-main-stream" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP/IP四层模型（Main-Stream）"><!---->TCP/IP四层模型（Main-Stream）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP"><!---->HTTP<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#请求-响应模型" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="请求-响应模型"><!---->请求-响应模型<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http-message" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP Message"><!---->HTTP Message<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#无状态" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="无状态"><!---->无状态<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http-的方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP 的方法"><!---->HTTP 的方法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http-的状态码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP 的状态码"><!---->HTTP 的状态码<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http-的安全性和加密-https" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTTP 的安全性和加密（HTTPS）"><!---->HTTP 的安全性和加密（HTTPS）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-udp" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP/UDP"><!---->TCP/UDP<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-传输可靠性-传输层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP 传输可靠性（传输层）"><!---->TCP 传输可靠性（传输层）<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#连接管理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="连接管理"><!---->连接管理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#以段为单位进行数据传输" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="以段为单位进行数据传输"><!---->以段为单位进行数据传输<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#序列号和确认应答机制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="序列号和确认应答机制"><!---->序列号和确认应答机制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#窗口控制-流控机制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="窗口控制（流控机制）"><!---->窗口控制（流控机制）<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#超时重发机制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="超时重发机制"><!---->超时重发机制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#窗口控制中的重发机制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="窗口控制中的重发机制"><!---->窗口控制中的重发机制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#拥塞控制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="拥塞控制"><!---->拥塞控制<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp三次握手-四次挥手" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP三次握手/四次挥手"><!---->TCP三次握手/四次挥手<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-三次握手-建立连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP 三次握手(建立连接)"><!---->TCP 三次握手(建立连接)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-四次挥手-关闭连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP 四次挥手(关闭连接)"><!---->TCP 四次挥手(关闭连接)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/backend/skills/DataStructureAlgorithm.html" class="nav-link sidebar-link sidebar-page" aria-label="Data-Structure &amp; Algorithm"><!---->Data-Structure &amp; Algorithm<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/skills/Dubbo.html" class="nav-link sidebar-link sidebar-page" aria-label="Dubbo"><!---->Dubbo<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/skills/IO.html" class="nav-link sidebar-link sidebar-page" aria-label="I/O"><!---->I/O<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/skills/Linux.html" class="nav-link sidebar-link sidebar-page" aria-label="Linux"><!---->Linux<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/skills/Methodology.html" class="nav-link sidebar-link sidebar-page" aria-label="Methodology"><!---->Methodology<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/skills/Netty.html" class="nav-link sidebar-link sidebar-page" aria-label="Netty"><!---->Netty<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/skills/OperatingSystem.html" class="nav-link sidebar-link sidebar-page" aria-label="Operating System"><!---->Operating System<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/backend/skills/Zookeeper.html" class="nav-link sidebar-link sidebar-page" aria-label="Zookeeper"><!---->Zookeeper<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Tools</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-note" style=""></span><span class="title">Article &amp; Papper</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Article</span><span class="arrow end"></span></button><!----></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Computer Network</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/EddieZturbo" target="_blank" rel="noopener noreferrer">EddieZ</a></span><span property="author" content="EddieZ"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 28 min</span><meta property="timeRequired" content="PT28M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#osi-和-tcp-ip-网络分层模型" class="router-link-active router-link-exact-active toc-link level2">OSI 和 TCP/IP 网络分层模型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#osi-七层模型" class="router-link-active router-link-exact-active toc-link level3">OSI 七层模型</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-ip四层模型-main-stream" class="router-link-active router-link-exact-active toc-link level3">TCP/IP四层模型（Main-Stream）</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http" class="router-link-active router-link-exact-active toc-link level2">HTTP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#请求-响应模型" class="router-link-active router-link-exact-active toc-link level3">请求-响应模型</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http-message" class="router-link-active router-link-exact-active toc-link level3">HTTP Message</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#无状态" class="router-link-active router-link-exact-active toc-link level3">无状态</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http-的方法" class="router-link-active router-link-exact-active toc-link level3">HTTP 的方法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http-的状态码" class="router-link-active router-link-exact-active toc-link level3">HTTP 的状态码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#http-的安全性和加密-https" class="router-link-active router-link-exact-active toc-link level3">HTTP 的安全性和加密（HTTPS）</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-udp" class="router-link-active router-link-exact-active toc-link level2">TCP/UDP</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-传输可靠性-传输层" class="router-link-active router-link-exact-active toc-link level2">TCP 传输可靠性（传输层）</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#连接管理" class="router-link-active router-link-exact-active toc-link level3">连接管理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#以段为单位进行数据传输" class="router-link-active router-link-exact-active toc-link level3">以段为单位进行数据传输</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#序列号和确认应答机制" class="router-link-active router-link-exact-active toc-link level3">序列号和确认应答机制</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#窗口控制-流控机制" class="router-link-active router-link-exact-active toc-link level3">窗口控制（流控机制）</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#超时重发机制" class="router-link-active router-link-exact-active toc-link level3">超时重发机制</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#窗口控制中的重发机制" class="router-link-active router-link-exact-active toc-link level3">窗口控制中的重发机制</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#拥塞控制" class="router-link-active router-link-exact-active toc-link level3">拥塞控制</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp三次握手-四次挥手" class="router-link-active router-link-exact-active toc-link level2">TCP三次握手/四次挥手</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-三次握手-建立连接" class="router-link-active router-link-exact-active toc-link level3">TCP 三次握手(建立连接)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/backend/skills/ComputerNetwork.html#tcp-四次挥手-关闭连接" class="router-link-active router-link-exact-active toc-link level3">TCP 四次挥手(关闭连接)</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="computer-network" tabindex="-1"><a class="header-anchor" href="#computer-network" aria-hidden="true">#</a> Computer Network</h1><h2 id="osi-和-tcp-ip-网络分层模型" tabindex="-1"><a class="header-anchor" href="#osi-和-tcp-ip-网络分层模型" aria-hidden="true">#</a> OSI 和 TCP/IP 网络分层模型</h2><h3 id="osi-七层模型" tabindex="-1"><a class="header-anchor" href="#osi-七层模型" aria-hidden="true">#</a> OSI 七层模型</h3><blockquote><p>OSI(Open System Interconnect Reference Model)七层模型是一个通信协议的分层模型</p><ol><li><p><strong>物理层（Physical Layer）</strong>：负责在物理媒介（如电缆、光纤等）上传输原始的比特流，提供物理连接和电气特性等功能。</p><p>传输数据类型：比特流（0和1）。</p><p>传输介质：物理媒介，如双绞线、同轴电缆、光纤等。</p></li><li><p><strong>数据链路层（Data Link Layer）</strong>：负责将原始的比特流转换成逻辑上的数据帧，并提供错误检测和纠正等功能，保证数据的可靠传输。</p><p>传输数据类型：数据帧。</p><p>传输介质：物理媒介，如双绞线、同轴电缆、光纤等。</p></li><li><p><strong>网络层（Network Layer）</strong>：负责对数据进行分组和路由以及寻址，使数据能够在不同的网络之间传输。</p><p>传输数据类型：数据包（Packet）。</p><p>传输介质：网络，如互联网等。</p></li><li><p><strong>传输层（Transport Layer）</strong>：负责提供端到端的可靠传输，并通过端口号将数据传递给应用层。</p><p>传输数据类型：报文（Message）。</p><p>传输介质：网络，如TCP/IP协议。</p></li><li><p><strong>会话层（Session Layer）</strong>：负责建立、维护和结束通信会话，管理会话中的会话层协议。</p><p>传输数据类型：会话数据（Session Data）。</p><p>传输介质：网络。</p></li><li><p><strong>表示层（Presentation Layer）</strong>：负责数据的编码、加密、压缩和格式转换等，使数据能够被应用层正确地解释和处理。</p><p>传输数据类型：表示数据（Presentation Data）。</p><p>传输介质：网络。</p></li><li><p><strong>应用层（Application Layer）</strong>：负责提供应用程序所需的各种服务和功能，如文件传输、电子邮件、远程登录等。</p><p>传输数据类型：应用数据（Application Data）。</p><p>传输介质：网络。</p></li></ol></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230325003322570.png" alt="image-20230325003322570"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230325003519848.png" alt="image-20230325003519848"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230325004040805.png" alt="image-20230325004040805"></p><h3 id="tcp-ip四层模型-main-stream" tabindex="-1"><a class="header-anchor" href="#tcp-ip四层模型-main-stream" aria-hidden="true">#</a> TCP/IP四层模型（Main-Stream）</h3><blockquote><p>TCP/IP协议栈是一个分层的网络通信模型，包含四个层次：应用层、传输层、网络层和数据链路层</p><ul><li><p><strong>应用层</strong></p><p>传输的数据类型：应用层传输的数据通常是用户数据，例如Web页面、电子邮件、文件传输等。</p><p>作用：应用层为应用程序提供了接口，使它们能够与网络通信，例如HTTP、FTP、SMTP等协议都是应用层协议，负责在网络上传输数据。</p><p>传输介质：应用层使用各种协议和端口进行通信，常见的协议有HTTP、FTP、SMTP等。</p></li><li><p><strong>传输层</strong></p><p>传输的数据类型：传输层传输的数据通常是端到端的数据流，可以是TCP或UDP数据包。</p><p>作用：传输层为应用程序提供了端到端的数据传输服务，同时也为网络层提供了可靠的数据传输。</p><p>传输介质：传输层使用IP地址和端口号来识别不同的应用程序，可以在IP层之上使用多种传输介质，例如以太网、WLAN、蓝牙等。</p></li><li><p><strong>网络层</strong></p><p>传输的数据类型：网络层传输的数据通常是IP数据包。</p><p>作用：网络层将数据包从源地址传输到目标地址，同时还提供了路由、拥塞控制等功能。</p><p>传输介质：网络层使用IP地址来标识不同的主机和路由器，可以在数据链路层之上使用多种传输介质，例如以太网、WLAN、蓝牙等。</p></li><li><p><strong>数据链路层</strong></p><p>传输的数据类型：数据链路层传输的数据通常是帧或包，例如以太网帧、无线局域网数据包等。</p><p>作用：数据链路层负责在物理层之上建立和管理数据链路，包括帧同步、流量控制等功能。</p><p>传输介质：数据链路层使用MAC地址来标识不同的网络设备，可以使用多种传输介质，例如以太网、WLAN、蓝牙等。</p></li></ul></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230325004439878.png" alt="image-20230325004439878"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230325004530094.png" alt="image-20230325004530094"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230325230913397.png" alt="image-20230325230913397"></p><h2 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> HTTP</h2><blockquote><p>HTTP（HyperText Transfer Protocol），是一种<strong>应用层协议</strong>，用于在<strong>客户端和服务器之间进行通信</strong>，常用于 Web 应用中。HTTP 协议基于 TCP/IP 协议族，<strong>通过 TCP 连接在客户端和服务器之间进行数据传输</strong>。<strong>通过请求和响应的交换达成通信</strong>。</p><ul><li>简单性：HTTP 协议设计简单，易于实现和理解。</li><li>可扩展性：HTTP 协议支持多种数据类型，可以扩展新的数据类型和请求方法。</li><li>无状态：HTTP 协议是一种无状态协议，即每个请求和响应之间是相互独立的，服务器不会保存客户端的状态信息。</li><li>基于请求-响应模型：HTTP 协议是基于请求-响应模型的，客户端向服务器发送请求，服务器返回响应。</li><li>支持缓存：HTTP 协议支持缓存机制，客户端可以缓存服务器返回的数据，减少网络传输的数据量和延迟。</li><li>支持代理：HTTP 协议支持代理服务器，可以缓存和过滤请求和响应。</li><li>支持管线化：HTTP 协议支持管线化技术，可以在一个 TCP 连接上同时发送多个请求和响应。</li><li>支持安全性：HTTP 协议引入了 HTTPS（HyperText Transfer Protocol Secure）协议，通过 SSL/TLS 加密技术保证数据的安全性。</li><li>支持身份认证：HTTP 协议支持身份认证机制，包括基本认证、摘要认证和 OAuth 等。</li><li>支持重定向：HTTP 协议支持重定向机制，可以将请求重定向到其他 URL。</li><li>支持多媒体：HTTP 协议支持多种媒体类型，包括 HTML、CSS、JavaScript、图片、音频和视频等。</li><li>支持国际化：HTTP 协议支持国际化，可以在请求头中指定语言和字符集。</li></ul></blockquote><h3 id="请求-响应模型" tabindex="-1"><a class="header-anchor" href="#请求-响应模型" aria-hidden="true">#</a> 请求-响应模型</h3><blockquote><p>HTTP 协议是基于<strong>请求-响应模型</strong>的，客户端向服务器发送请求，服务器返回响应。</p><ol><li><strong>客户端向服务器发送请求</strong>，请求消息包括<strong>请求行、请求头和请求体</strong>。请求行包括请求方法、请求资源的 URL 和 HTTP 协议版本。请求头包括请求的一些附加信息，如浏览器类型、请求的数据类型等。请求体通常用于 POST 请求中，表示客户端要提交的数据。</li><li><strong>服务器收到请求后，进行处理，并且返回响应</strong>，响应消息包括<strong>响应行、响应头和响应体</strong>。响应行包括 HTTP 协议版本、状态码和状态描述。状态码用于表示请求的处理结果，如 200 表示请求成功，404 表示请求的资源不存在等。响应头和请求头类似，包括响应的一些附加信息，如服务器类型、响应的数据类型等。响应体通常是服务器返回的数据，如 HTML 页面、图片等。</li></ol><p>HTTP 请求和响应的交互流程如下：</p><ol><li>客户端向服务器发送请求，包括请求行、请求头和请求体。</li><li>服务器接收到请求后，根据请求中的信息进行处理，并生成响应。</li><li>服务器将响应发送给客户端，包括状态行、响应头和响应体。</li><li>客户端接收到响应后，根据响应中的信息进行处理，如显示 HTML 页面、解析 JSON 数据等。</li></ol></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405143741295.png" alt="image-20230405143741295"></p><h3 id="http-message" tabindex="-1"><a class="header-anchor" href="#http-message" aria-hidden="true">#</a> HTTP Message</h3><blockquote><p>HTTP（HyperText Transfer Protocol）是一种基于请求-响应模型的协议，客户端向服务器发送请求，服务器返回响应。HTTP 请求和响应的基本结构如下：</p><p><strong>HTTP 请求：</strong></p><ul><li>请求行：包括请求方法、请求的 URL 和 HTTP 协议的版本号。</li><li>请求头：包括一些附加的信息，如客户端的浏览器类型、请求的 MIME 类型等。</li><li>请求体：包括请求中的数据，如表单数据、JSON 数据等。在 GET 请求中，请求体通常为空。</li></ul><p><strong>HTTP 响应：</strong></p><ul><li>状态行：包括 HTTP 协议的版本号、状态码和状态描述。</li><li>响应头：包括一些附加的信息，如服务器类型、响应的 MIME 类型等。</li><li>响应体：包括服务器返回的数据，如 HTML 页面、JSON 数据等。</li></ul></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405144500366.png" alt="image-20230405144500366"></p><h3 id="无状态" tabindex="-1"><a class="header-anchor" href="#无状态" aria-hidden="true">#</a> 无状态</h3><blockquote><p>HTTP（HyperText Transfer Protocol）是一种无状态协议，也就是说，每个请求和响应之间是相互独立的，服务器不会保存客户端的状态信息。这意味着服务器不会记住之前的请求或响应，也不会跟踪客户端的会话状态。</p><p>这种无状态的设计使得 HTTP 协议具有很好的可扩展性和灵活性，同时也带来了一些问题，如：</p><ol><li>无法跟踪会话状态：由于服务器不会跟踪客户端的会话状态，因此无法确保在多个请求之间保持一致的状态。</li><li>需要频繁地传输相同的信息：由于每个请求和响应都是独立的，因此需要频繁地传输相同的信息，如用户的身份认证信息等。</li></ol><p>为了解决这些问题，Web 应用程序通常使用一些技术来维护会话状态，如<strong>使用 cookie 或将会话状态存储在服务器</strong>上的数据库中。这样可以在多个请求之间共享状态信息，使得 Web 应用程序更加方便和实用。</p></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405150742634.png" alt="image-20230405150742634"></p><h4 id="使用-cookie-的状态管理" tabindex="-1"><a class="header-anchor" href="#使用-cookie-的状态管理" aria-hidden="true">#</a> 使用 Cookie 的状态管理</h4><blockquote><p>HTTP（HyperText Transfer Protocol）是一种无状态协议，也就是说，每个请求和响应之间是相互独立的，服务器不会保存客户端的状态信息。这意味着服务器不会记住之前的请求或响应，也不会跟踪客户端的会话状态。</p><p><strong>使用 cookie 或将会话状态存储在服务器</strong>上的数据库中。这样可以在多个请求之间共享状态信息，使得 Web 应用程序更加方便和实用。</p><p>Cookie 技术通过在请求和响应报文中写入 Cookie 信息来控制客户端的状态。</p></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405152019759.png" alt="image-20230405152019759"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405152035312.png" alt="image-20230405152035312"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405152041791.png" alt="image-20230405152041791"></p><h3 id="http-的方法" tabindex="-1"><a class="header-anchor" href="#http-的方法" aria-hidden="true">#</a> HTTP 的方法</h3><blockquote><p>HTTP 协议定义了多种方法用于对服务器资源进行操作，常用的方法包括：</p><ul><li>GET：用于请求指定的页面或资源，通常用于获取数据。</li><li>POST：用于提交数据到服务器，通常用于提交表单数据。</li><li>PUT：用于上传文件到服务器，或者更新指定的资源。</li><li>DELETE：用于删除指定的资源。</li><li>HEAD：与 GET 方法类似，但只返回响应头，不返回响应体。</li><li>OPTIONS：（预检请求）用于查询服务器支持的方法和其他一些信息。</li><li>CONNECT：用于建立与目标资源的网络连接，通常用于 HTTPS 请求。</li><li>TRACE：用于返回服务器收到的请求，通常用于测试和诊断。</li></ul></blockquote><h3 id="http-的状态码" tabindex="-1"><a class="header-anchor" href="#http-的状态码" aria-hidden="true">#</a> HTTP 的状态码</h3><blockquote><p>HTTP 协议定义了多种状态码，用于表示请求的处理结果。常见的状态码包括：</p><ul><li>1xx：信息提示，表示服务器已经接收到请求，但需要进一步处理才能完成。</li><li>2xx：成功，表示请求已经成功处理。</li><li>3xx：重定向，表示需要客户端进一步操作才能完成请求。</li><li>4xx：客户端错误，表示客户端发送的请求存在错误。</li><li>5xx：服务器错误，表示服务器在处理请求时发生了错误。</li></ul></blockquote><h3 id="http-的安全性和加密-https" tabindex="-1"><a class="header-anchor" href="#http-的安全性和加密-https" aria-hidden="true">#</a> HTTP 的安全性和加密（HTTPS）</h3><blockquote><p>由于 HTTP 协议传输的数据是明文的，容易被窃听和篡改，为了保证数据的安全性，HTTP 协议引入了加密和身份认证技术。</p><p><strong>HTTP 主要有这些不足：</strong></p><ul><li><p>通信使用明文（不加密），内容可能会被窃听</p></li><li><p>不验证通信方的身份，因此有可能遭遇伪装</p></li><li><p>无法证明报文的完整性，所以有可能已遭篡改</p></li></ul><p><strong>解决方案：</strong></p><ul><li>加密：HTTPS（HyperText Transfer Protocol Secure）是基于 HTTP 协议的安全版本，通过 SSL/TLS</li></ul></blockquote><h4 id="https" tabindex="-1"><a class="header-anchor" href="#https" aria-hidden="true">#</a> HTTPS</h4><blockquote><p>HTTPS（HyperText Transfer Protocol Secure）是一种<strong>安全的 HTTP 协议</strong>，它<strong>在 HTTP 协议的基础上添加了 SSL/TLS 加密</strong>，用于保护网络通信安全。</p><p><strong>HTTP+ 加密 + 认证 + 完整性保护 =HTTPS</strong></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405152717714.png" alt="image-20230405152717714"></p><p><strong>HTTPS 的工作原理：</strong></p><ol><li>客户端向服务器发送 HTTPS 请求。</li><li>服务器将公钥发送给客户端。</li><li>客户端使用服务器的公钥来加密会话密钥（session key），并将加密后的会话密钥发送给服务器。</li><li>服务器使用私钥来解密客户端发送的会话密钥。</li><li>服务器和客户端使用会话密钥来进行加密通信。</li></ol><p><strong>HTTPS 的优点：</strong></p><ol><li>数据加密：HTTPS 使用 SSL/TLS 加密通信，保护数据在传输过程中不被窃听或篡改。</li><li>认证服务端：HTTPS 证书可以验证服务器的身份，防止客户端被伪造的服务器欺骗（例如钓鱼网站）。</li><li>安全传输：HTTPS 可以通过数字证书来保证传输的数据不被篡改、重放或伪造，从而保证了通信的安全性。</li><li>改善 SEO：搜索引擎通常会将 HTTPS 网站排名提高，从而提高了网站的搜索排名。</li></ol><p><strong>需要注意的是:</strong></p><ol><li>使用 HTTPS 会增加服务器的计算负担和网络延迟，从而可能导致性能下降。</li><li>HTTPS 的安全性也依赖于 SSL/TLS 的实现和证书的有效性，因此需要注意证书的颁发机构和有效期限，以及及时更新证书。</li></ol></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405152849012.png" alt="image-20230405152849012"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405152917243.png" alt="image-20230405152917243"></p><ol><li>客户端通过发送 Client Hello 报文开始 SSL 通信。报文中包含客户端支持的 SSL 的指定版本、加密组件（Cipher Suite）列表（所使用的加密算法及密钥长度等）。</li><li>服务器可进行 SSL 通信时，会以 Server Hello 报文作为应答。和客户端一样，在报文中包含 SSL 版本以及加密组件。服务器的加密组件内容是从接收到的客户端加密组件内筛选出来的。</li><li>之后服务器发送 Certificate 报文。报文中包含公开密钥证书。</li><li>最后服务器发送 Server Hello Done 报文通知客户端，最初阶段的 SSL 握手协商部分结束。</li><li>SSL 第一次握手结束之后，客户端以 Client Key Exchange报文作为回应。报文中包含通信加密中使用的一种被称为Pre-master secret 的随机密码串。该报文已用步骤 3 中的公开密钥进行加密。</li><li>接着客户端继续发送 Change Cipher Spec 报文。该报文会提示服务器，在此报文之后的通信会采用 Pre-master secret密钥加密。</li><li>客户端发送 Finished 报文。该报文包含连接至今全部报文的整体校验值。这次握手协商是否能够成功，要以服务器是否能够正确解密该报文作为判定标准。</li><li>服务器同样发送 Change Cipher Spec 报文。</li><li>服务器同样发送 Finished 报文。</li><li>服务器和客户端的 Finished 报文交换完毕之后，SSL 连接就算建立完成。当然，通信会受到 SSL 的保护。从此处开始进行应用层协议的通信，即发送 HTTP 请求。</li><li>应用层协议通信，即发送 HTTP 响应。</li><li>最后由客户端断开连接。断开连接时，发送 close_notify报文</li></ol><h2 id="tcp-udp" tabindex="-1"><a class="header-anchor" href="#tcp-udp" aria-hidden="true">#</a> TCP/UDP</h2><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405084328945.png" alt="image-20230405084328945"></p><blockquote><ul><li><strong>TCP（传输控制协议）</strong><ul><li>TCP是一种<strong>面向连接的、可靠的</strong>协议，它通过三次握手建立连接，保证数据传输的可靠性。TCP提供的服务包括流量控制、拥塞控制、错误校验等。TCP<strong>通过序号和确认号来保证数据的可靠性</strong>，同时也支持<strong>数据的分段和重组</strong>。</li><li><strong>优点</strong>是能够保证数据的<strong>可靠</strong>性，适合用于传输大量数据或需要保证数据完整性的应用，例如文件传输、电子邮件等。</li><li><strong>缺点</strong>是由于<strong>需要建立连接和进行错误校验</strong>等操作，会造成<strong>一定的开销和延迟</strong>。</li></ul></li><li><strong>UDP（用户数据报协议）</strong><ul><li>UDP是一种<strong>无连接的、不可靠</strong>的协议，它不提供流量控制、拥塞控制和错误校验等服务。UDP数据包只包含源端口、目的端口、长度和校验和等基本信息。UDP通过尽力而为的方式进行数据传输，即发送数据后不会等待确认，也不会进行重传操作。</li><li><strong>优点</strong>是<strong>传输效率高</strong>，适合用于实时性要求高的应用，例如视频会议、实时音频等。</li><li><strong>缺点</strong>是<strong>无法保证数据的可靠性</strong>，<strong>容易出现数据丢失、重复、乱序</strong>等问题。</li></ul></li></ul><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405114202668.png" alt="image-20230405114202668"></p></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405113935233.png" alt="image-20230405113935233"></p><h2 id="tcp-传输可靠性-传输层" tabindex="-1"><a class="header-anchor" href="#tcp-传输可靠性-传输层" aria-hidden="true">#</a> TCP 传输可靠性（传输层）</h2><blockquote><p>TCP通过三次握手建立连接、确认机制、序号机制、流量控制和拥塞控制等机制来保证数据传输的可靠性。</p><p>TCP保障可靠性传输的方式：</p><ul><li><p>**三次握手建立连接：**TCP在传输数据之前必须先建立连接，这是通过三次握手完成的。客户端首先向服务器发送一个连接请求，服务器收到请求后回复一个确认，客户端再回复一个确认。这样就建立了一个可靠的连接，可以进行数据传输。</p></li><li><p><strong>基于数据块传输（以段为单位）</strong> ：应用数据被分割成 TCP 认为最适合发送的数据块，再传输给网络层，数据块被称为报文段或段。</p></li><li><p><strong>（序号机制）对失序数据包重新排序以及去重</strong>：TCP 为了保证不发生丢包，就给每个包一个序列号，有了序列号能够将接收到的数据根据序列号排序，并且去掉重复序列号的数据就可以实现数据包去重。通过给每个TCP数据包进行编号来实现的，发送方会对每个数据包进行编号，接收方会对每个数据包进行确认，并指定下一个期望接收的数据包的序列号。这样可以确保数据包的顺序和完整性，避免了数据包乱序和数据丢失等问题。</p></li><li><p><strong>校验和</strong> : TCP 将保持它首部和数据的检验和。这是一个端到端的检验和，目的是检测数据在传输过程中的任何变化。如果收到段的检验和有差错，TCP 将丢弃这个报文段和不确认收到此报文段。</p></li><li><p><strong>超时重传（确认机制）</strong> : 当发送方发送数据之后，它启动一个定时器，等待目的端确认收到这个报文段。接收端实体对已成功收到的包发回一个相应的确认信息（ACK）。如果发送端实体在合理的往返时延（RTT）内未收到确认消息，那么对应的数据包就被假设为已丢失并进行重传。</p></li><li><p><strong>流量控制</strong> : TCP 连接的每一方都有固定大小的缓冲空间，TCP 的接收端只允许发送端发送接收端缓冲区能接纳的数据。当接收方来不及处理发送方的数据，能提示发送方降低发送的速率，防止包丢失。TCP 使用的流量控制协议是可变大小的滑动窗口协议（TCP 利用滑动窗口实现流量控制）。</p></li><li><p><strong>拥塞控制</strong> : 当网络拥塞时，减少数据的发送。</p></li></ul></blockquote><h3 id="连接管理" tabindex="-1"><a class="header-anchor" href="#连接管理" aria-hidden="true">#</a> 连接管理</h3><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405122502472.png" alt="image-20230405122502472"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405122519359.png" alt="image-20230405122519359"></p><h3 id="以段为单位进行数据传输" tabindex="-1"><a class="header-anchor" href="#以段为单位进行数据传输" aria-hidden="true">#</a> 以段为单位进行数据传输</h3><blockquote><p>TCP协议以段（Segment）为单位发送消息。TCP协议<strong>将应用层传来的数据分割成一个个的TCP段</strong>，然后<strong>将这些TCP段加上TCP头部信息一起发送</strong>。TCP头部包含了序列号、确认号、窗口大小等信息，用于保证数据的可靠传输。TCP协议还会对每个TCP段进行校验和计算，以确保数据的完整性。</p><p>TCP协议以段为单位发送消息的好处是可以实现可靠的数据传输。如果数据在传输过程中发生丢失、损坏或重复等情况，TCP协议可以通过重传、确认和流量控制等机制来保证数据的可靠性和顺序性。同时，TCP协议还可以根据窗口大小来控制数据的发送速率，以避免网络拥塞和丢包等问题。因此，TCP协议是一种可靠的、面向连接的协议，被广泛应用于Internet上的数据传输。</p></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405114744281.png" alt="image-20230405114744281"></p><h3 id="序列号和确认应答机制" tabindex="-1"><a class="header-anchor" href="#序列号和确认应答机制" aria-hidden="true">#</a> 序列号和确认应答机制</h3><blockquote><ul><li><p><strong>序列号机制</strong></p><ul><li>是通过给每个TCP数据包进行编号来实现的，<strong>发送方会对每个数据包进行编号</strong>，<strong>接收方会对每个数据包进行确认</strong>，<strong>并指定下一个期望接收的数据包的序列号</strong>。这样可以确保数据包的顺序和完整性，避免了数据包乱序和数据丢失等问题。</li></ul></li><li><p><strong>确认应答机制</strong></p><ul><li>是指在<strong>接收方收到数据包后</strong>，会<strong>向发送方发送一个确认应答</strong>，表示已经成功接收到数据包。发送方在收到确认应答后，会确认该数据包已经成功发送，然后再发送下一个数据包。<strong>如果发送方没有收到确认应答</strong>，就<strong>会重传数据包，直到接收方发送确认为止</strong>。</li></ul></li></ul></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405090638544.png" alt="image-20230405090638544"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405090618096.png" alt="image-20230405090618096"></p><h3 id="窗口控制-流控机制" tabindex="-1"><a class="header-anchor" href="#窗口控制-流控机制" aria-hidden="true">#</a> 窗口控制（流控机制）</h3><blockquote><p>TCP协议中的窗口控制是<strong>一种流量控制机制</strong>，它通过协商发送方和接收方之间的窗口大小来限制数据的发送速率，避免网络拥塞和丢包等问题。TCP协议中的窗口大小是一个动态变化的值，它根据网络延迟、丢包率和拥塞情况等因素进行调整。</p><p>通过窗口控制机制，TCP协议<strong>可以充分利用网络带宽和容量，提高数据传输的效率</strong>。同时，窗口控制机制还可以避免网络拥塞和丢包等问题，保证数据的可靠传输。</p><p>具体来说，发送方使用一个发送窗口来控制发送数据的速率。<strong>发送窗口的大小由接收方通过接收窗口大小来控制</strong>。发送方发送数据时，会将发送窗口的大小告知接收方，接收方收到数据后会向发送方发送一个确认报文，其中包含接收窗口大小。发送方根据接收窗口大小来调整发送窗口的大小，以确保数据的可靠传输和网络的效率。</p><p>当发送方发送数据时，它会发送一个窗口大小的数据量，并等待接收方的确认。接收方会在收到数据后发送一个确认，同时告知发送方自己的窗口大小。发送方会根据接收方的窗口大小来控制发送速率，每次发送的数据量不超过接收方窗口大小的值。如果窗口大小发生变化，发送方会相应地调整发送速率。</p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405121917400.png" alt="image-20230405121917400"></p></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405115602340.png" alt="image-20230405115602340"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405115634240.png" alt="image-20230405115634240"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405115849432.png" alt="image-20230405115849432"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405115805468.png" alt="image-20230405115805468"></p><h3 id="超时重发机制" tabindex="-1"><a class="header-anchor" href="#超时重发机制" aria-hidden="true">#</a> 超时重发机制</h3><blockquote><p>TCP（传输控制协议）的超时重发机制是TCP实现可靠数据传输的重要机制之一。当一个TCP数据包在传输过程中发生了丢失或损坏，TCP会采取以下措施进行超时重发：</p><ol><li>发送方发送一个数据包后，会设置一个定时器，等待接收方的确认应答。如果在指定的时间内没有收到确认应答，就会认为该数据包已经丢失，发送方会重新发送该数据包。</li><li>发送方会根据数据包的重传次数进行指数退避。每次重传后，发送方会等待更长的时间才会发送下一个数据包。这样可以避免因频繁重传而导致网络拥塞。</li><li>发送方会根据网络的拥塞情况动态调整超时时间。如果网络拥塞，数据包传输的时间会变长，发送方就会增加超时时间，以避免过早地重传数据包。如果网络畅通，数据包传输的时间会变短，发送方就会减少超时时间，以提高数据传输的效率。</li></ol><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405112702471.png" alt="image-20230405112702471"></p><p><strong>如何判定为超时（超时时间的确定）</strong></p><p>TCP超时重发机制中的超时时间是<strong>根据网络延迟</strong>和<strong>丢包率等因素动态确定</strong>的。</p><p>TCP协议通过<strong>维护一个计时器来检测超时事件</strong>，并根据超时事件的发生情况调整超时时间的值。</p><p>具体来说，TCP协议<strong>会根据历史传输数据包的RTT（Round Trip Time，往返时间）来计算超时时间的初始值</strong>，然后<strong>根据实际的传输情况进行动态调整</strong>。如果数据包在超时时间内未得到确认，TCP协议会认为数据包丢失，触发超时重传机制。如果数据包得到了确认，TCP协议会更新RTT和超时时间的值。通过这种方式，TCP协议可以动态地适应不同的网络环境，提高数据传输的效率和可靠性。</p></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405112623307.png" alt="image-20230405112623307"></p><h3 id="窗口控制中的重发机制" tabindex="-1"><a class="header-anchor" href="#窗口控制中的重发机制" aria-hidden="true">#</a> 窗口控制中的重发机制</h3><blockquote><p>在使用了窗口控制时:</p><p><strong>数据已经到达接收端</strong>；<strong>仅仅是确认应答未能返回</strong>的情况下<strong>无需重发</strong>。</p></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405120719379.png" alt="image-20230405120719379"></p><blockquote><p>在使用了窗口控制时:</p><p><strong>接收端未收到期望的序列号数据</strong>；</p><ol><li><strong>接收端会3次应答期望序列号的数据到发送端</strong>，</li><li><strong>发送端连续3次收到同样的应答</strong>则<strong>认为数据段丢失</strong>了；就会<strong>进行重发</strong></li></ol></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405121444207.png" alt="image-20230405121444207"></p><h3 id="拥塞控制" tabindex="-1"><a class="header-anchor" href="#拥塞控制" aria-hidden="true">#</a> 拥塞控制</h3><blockquote><p>TCP 的阻塞控制机制主要分为两种：拥塞避免和拥塞恢复。拥塞避免用于防止网络拥塞，而拥塞恢复用于处理拥塞时的情况。</p><p><strong>拥塞避免</strong></p><p>拥塞避免是 TCP 阻塞控制机制的主要部分，其目的是尽可能地利用可用的带宽，同时避免网络拥塞。</p><p>拥塞避免的最基本的方法是 TCP 的慢启动算法和拥塞避免算法。</p><ul><li><p><strong>慢启动算法</strong>用于在 TCP 连接开始时估计网络的拥塞程度，同时逐步增加发送窗口的大小。</p></li><li><p><strong>拥塞避免算法</strong>用于在网络拥塞程度逐渐加重时，逐步减少发送窗口的大小，以避免网络拥塞。</p></li></ul><p><strong>拥塞恢复</strong></p><p>当网络出现拥塞时，TCP 会进入拥塞恢复状态，尝试恢复网络的正常运行。</p><p>拥塞恢复的主要机制是快速重传和快速恢复。</p><ul><li><strong>快速重传</strong>是指在 TCP 发送数据时，如果发送方没有收到相应的确认信息，则会立即重传数据。</li><li><strong>快速恢复</strong>是指当发送方收到多个重复的确认信息时，认为网络拥塞，减少发送窗口的大小，以避免网络拥塞。</li></ul></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405140028786.png" alt="image-20230405140028786"></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405140001447.png" alt="image-20230405140001447"></p><h2 id="tcp三次握手-四次挥手" tabindex="-1"><a class="header-anchor" href="#tcp三次握手-四次挥手" aria-hidden="true">#</a> TCP三次握手/四次挥手</h2><blockquote><p>TCP (Transmission Control Protocol) 是一种面向连接的、可靠的、基于字节流的传输层协议。在 TCP 中，建立连接和关闭连接都需要进行握手和挥手操作。</p></blockquote><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405090155087.png" alt="image-20230405090155087"></p><h3 id="tcp-三次握手-建立连接" tabindex="-1"><a class="header-anchor" href="#tcp-三次握手-建立连接" aria-hidden="true">#</a> <strong>TCP 三次握手(建立连接)</strong></h3><p>TCP 三次握手是建立 TCP 连接的过程。具体步骤如下：</p><ol><li>客户端向服务器发送 SYN (synchronize) 报文，表示请求建立连接，并且设置一个随机的初始序列号 seq，表示发送方发送的第一个数据包的序列号。</li><li>服务器收到 SYN 报文后，向客户端发送 SYN-ACK (synchronize-acknowledge) 报文，表示确认客户端的请求，并且设置一个随机的初始序列号 seq，表示接收方发送的第一个数据包的序列号，同时在报文头中 ACK 标志位设置为1，表示确认客户端发送的 SYN 报文。</li><li>客户端收到服务器的 SYN-ACK 报文后，向服务器发送 ACK (acknowledge) 报文，确认收到了服务器的确认，并且在报文头中 ACK 标志位设置为1，表示确认服务器发送的 SYN-ACK 报文。</li></ol><p>此时，TCP 连接已经建立完成，可以开始传输数据。</p><ul><li><p><strong>第一次握手</strong> ：Client 什么都不能确认；Server 确认了对方发送正常，自己接收正常</p></li><li><p><strong>第二次握手</strong> ：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：对方发送正常，自己接收正常</p></li><li><p><strong>第三次握手</strong> ：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己发送、接收正常，对方发送、接收正常</p></li></ul><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405140718161.png" alt="image-20230405140718161"></p><p>👀SYN 同步序列编号(Synchronize Sequence Numbers) 是 TCP/IP 建立连接时使用的握手信号。在客户机和服务器之间建立正常的 TCP 网络连接时，客户机首先发出一个 SYN 消息，服务器使用 SYN-ACK 应答表示接收到了这个消息，最后客户机再以 ACK(Acknowledgement）消息响应。这样在客户机和服务器之间才能建立起可靠的 TCP 连接，数据才可以在客户机和服务器之间传递。</p><h3 id="tcp-四次挥手-关闭连接" tabindex="-1"><a class="header-anchor" href="#tcp-四次挥手-关闭连接" aria-hidden="true">#</a> <strong>TCP 四次挥手(关闭连接)</strong></h3><p>TCP 四次挥手是关闭 TCP 连接的过程。具体步骤如下：</p><ul><li><p><strong>第一次挥手</strong> ：客户端发送一个 FIN（SEQ=X） 标志的数据包-&gt;服务端，用来关闭客户端到服务器的数据传送。然后，客户端进入 <strong>FIN-WAIT-1</strong> 状态。</p></li><li><p><strong>第二次挥手</strong> ：服务器收到这个 FIN（SEQ=X） 标志的数据包，它发送一个 ACK （SEQ=X+1）标志的数据包-&gt;客户端 。然后，此时服务端进入<strong>CLOSE-WAIT</strong>状态，客户端进入<strong>FIN-WAIT-2</strong>状态。</p><ul><li>(<strong>二次挥手和三次挥手不能合二为一</strong>：服务器收到客户端断开连接的请求时，可能还有一些数据没有发完，这时先回复 ACK，表示接收到了断开连接的请求。等到数据发完之后再发 FIN，断开服务器到客户端的数据传送。)</li><li>如果第二次挥手时服务器的 ACK 没有送达客户端：客户端会重新发送 FIN 请求。</li></ul></li><li><p><strong>第三次挥手</strong> ：服务端关闭与客户端的连接并发送一个 FIN (SEQ=y)标志的数据包-&gt;客户端请求关闭连接，然后，服务端进入<strong>LAST-ACK</strong>状态。</p></li><li><p><strong>第四次挥手</strong> ：客户端发送 ACK (SEQ=y+1)标志的数据包-&gt;服务端并且进入<strong>TIME-WAIT</strong>状态，服务端在收到 ACK (SEQ=y+1)标志的数据包后进入 CLOSE 状态。此时，如果客户端等待 <strong>2MSL(报文段最长寿命)</strong> 后依然没有收到回复，就证明服务端已正常关闭，随后，客户端也可以关闭连接了。</p><ul><li>**客户端需要等待 2<em>MSL（报文段最长寿命）时间后才进入 CLOSED 状态：**第四次挥手时，<strong>客户端发送给服务器的 ACK 有可能丢失，如果服务端因为某些原因而没有收到 ACK 的话，服务端就会重发 FIN</strong>，如果客户端在 2</em>MSL 的时间内收到了 FIN，就会重新发送 ACK 并再次等待 2MSL，<strong>防止 Server 没有收到 ACK 而不断重发 FIN</strong>。</li></ul><p>(<strong>MSL(Maximum Segment Lifetime)</strong> : 一个片段在网络中最大的存活时间，2MSL 就是一个发送和一个回复所需的最大时间。如果直到 2MSL，Client 都没有再次收到 FIN，那么 Client 推断 ACK 已经被成功接收，则结束 TCP 连接。</p></li></ul><p>此时，TCP 连接已经关闭完成。<strong>只要四次挥手没有结束，客户端和服务端就可以继续传输数据！</strong></p><p><img src="https://eddie-typora-image.oss-cn-shenzhen.aliyuncs.com/typora-user-images/image-20230405140834269.png" alt="image-20230405140834269"></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/EddieZturbo/Eddie-Tech-Blog.github.io/edit/main/docs/backend/skills/ComputerNetwork.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><nav class="page-nav"><!----><a href="/backend/skills/DataStructureAlgorithm.html" class="nav-link next" aria-label="Data-Structure &amp; Algorithm"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Data-Structure &amp; Algorithm<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Default footer</div><div class="copyright">Copyright © 2023 EddieZ</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-7117916c.js" defer></script>
  </body>
</html>
